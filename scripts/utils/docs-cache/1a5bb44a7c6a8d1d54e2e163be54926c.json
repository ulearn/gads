{
  "url": "https://developers.google.com/google-ads/api/samples/add-sitelinks",
  "title": "Add Sitelinks  |  Google Ads API  |  Google for DevelopersGoogleGoogle",
  "headings": [
    {
      "level": "h1",
      "text": "Add Sitelinks\n\n    \n    \n      \n    \n\n    \n      \n      Stay organized with collections\n    \n    \n      \n      Save and categorize content based on your preferences."
    },
    {
      "level": "h2",
      "text": "AI-generated Key Takeaways"
    },
    {
      "level": "h3",
      "text": "Java"
    },
    {
      "level": "h3",
      "text": "C#"
    },
    {
      "level": "h3",
      "text": "PHP"
    },
    {
      "level": "h3",
      "text": "Python"
    },
    {
      "level": "h3",
      "text": "Ruby"
    },
    {
      "level": "h3",
      "text": "Perl"
    }
  ],
  "codeBlocks": [
    "// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\npackage com.google.ads.googleads.examples.assets;\n\nimport com.beust.jcommander.Parameter;\nimport com.google.ads.googleads.examples.utils.ArgumentNames;\nimport com.google.ads.googleads.examples.utils.CodeSampleParams;\nimport com.google.ads.googleads.lib.GoogleAdsClient;\nimport com.google.ads.googleads.v22.common.SitelinkAsset;\nimport com.google.ads.googleads.v22.enums.AssetFieldTypeEnum.AssetFieldType;\nimport com.google.ads.googleads.v22.errors.GoogleAdsError;\nimport com.google.ads.googleads.v22.errors.GoogleAdsException;\nimport com.google.ads.googleads.v22.resources.Asset;\nimport com.google.ads.googleads.v22.resources.CampaignAsset;\nimport com.google.ads.googleads.v22.services.AssetOperation;\nimport com.google.ads.googleads.v22.services.AssetServiceClient;\nimport com.google.ads.googleads.v22.services.CampaignAssetOperation;\nimport com.google.ads.googleads.v22.services.CampaignAssetServiceClient;\nimport com.google.ads.googleads.v22.services.MutateAssetResult;\nimport com.google.ads.googleads.v22.services.MutateAssetsResponse;\nimport com.google.ads.googleads.v22.services.MutateCampaignAssetResult;\nimport com.google.ads.googleads.v22.services.MutateCampaignAssetsResponse;\nimport com.google.ads.googleads.v22.utils.ResourceNames;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n/** Adds sitelinks to a campaign using Assets. To create a campaign, run AddCampaigns.java. */\npublic class AddSitelinks {\n\n  private static class AddSitelinksParams extends CodeSampleParams {\n\n    @Parameter(names = ArgumentNames.CUSTOMER_ID, required = true)\n    private Long customerId;\n\n    @Parameter(names = ArgumentNames.CAMPAIGN_ID, required = true)\n    private Long campaignId;\n  }\n\n  public static void main(String[] args) {\n    AddSitelinksParams params = new AddSitelinksParams();\n    if (!params.parseArguments(args)) {\n\n      // Either pass the required parameters for this example on the command line, or insert them\n      // into the code here. See the parameter class definition above for descriptions.\n      params.customerId = Long.parseLong(\"INSERT_CUSTOMER_ID_HERE\");\n      params.campaignId = Long.parseLong(\"INSERT_CAMPAIGN_ID_HERE\");\n    }\n\n    GoogleAdsClient googleAdsClient = null;\n    try {\n      googleAdsClient = GoogleAdsClient.newBuilder().fromPropertiesFile().build();\n    } catch (FileNotFoundException fnfe) {\n      System.err.printf(\n          \"Failed to load GoogleAdsClient configuration from file. Exception: %s%n\", fnfe);\n      System.exit(1);\n    } catch (IOException ioe) {\n      System.err.printf(\"Failed to create GoogleAdsClient. Exception: %s%n\", ioe);\n      System.exit(1);\n    }\n\n    try {\n      new AddSitelinks().runExample(googleAdsClient, params.customerId, params.campaignId);\n    } catch (GoogleAdsException gae) {\n      // GoogleAdsException is the base class for most exceptions thrown by an API request.\n      // Instances of this exception have a message and a GoogleAdsFailure that contains a\n      // collection of GoogleAdsErrors that indicate the underlying causes of the\n      // GoogleAdsException.\n      System.err.printf(\n          \"Request ID %s failed due to GoogleAdsException. Underlying errors:%n\",\n          gae.getRequestId());\n      int i = 0;\n      for (GoogleAdsError googleAdsError : gae.getGoogleAdsFailure().getErrorsList()) {\n        System.err.printf(\"  Error %d: %s%n\", i++, googleAdsError);\n      }\n      System.exit(1);\n    }\n  }\n\n  /**\n   * Runs the example.\n   *\n   * @param googleAdsClient the Google Ads API client.\n   * @param customerId the client customer ID.\n   * @param campaignId the campaign ID on which to add the sitelinks.\n   * @throws GoogleAdsException if an API request failed with one or more service errors.\n   */\n  private void runExample(GoogleAdsClient googleAdsClient, long customerId, long campaignId) {\n    // Creates a sitelink asset.\n    List<String> resourceNames = createSitelinkAssets(googleAdsClient, customerId);\n    // Associates the sitelinks at the campaign level.\n    linkSitelinksToCampaign(googleAdsClient, resourceNames, customerId, campaignId);\n  }\n\n  /** Creates a {@link SitelinkAsset} which can then be added to campaigns. */\n  private List<String> createSitelinkAssets(GoogleAdsClient googleAdsClient, long customerId) {\n    // Creates some sitelink assets.\n    SitelinkAsset storeLocatorSitelinkAsset =\n        SitelinkAsset.newBuilder()\n            .setDescription1(\"Get in touch\")\n            .setDescription2(\"Find your local store\")\n            .setLinkText(\"Store locator\")\n            .build();\n    SitelinkAsset storeSitelinkAsset =\n        SitelinkAsset.newBuilder()\n            .setDescription1(\"Buy some stuff\")\n            .setDescription2(\"It's really good\")\n            .setLinkText(\"Store\")\n            .build();\n\n    SitelinkAsset storeAdditionalSitelinkAsset =\n        SitelinkAsset.newBuilder()\n            .setDescription1(\"Even more stuff\")\n            .setDescription2(\"There's never enough\")\n            .setLinkText(\"Store for more\")\n            .build();\n    // Wraps the sitelinks in an Asset and sets the URLs.\n    List<Asset> assets = new ArrayList();\n    assets.add(\n        Asset.newBuilder()\n            .setSitelinkAsset(storeLocatorSitelinkAsset)\n            .addFinalUrls(\"http://example.com/contact/store-finder\")\n            // Optionally sets a different URL for mobile.\n            .addFinalMobileUrls(\"http://example.com/mobile/contact/store-finder\")\n            .build());\n    assets.add(\n        Asset.newBuilder()\n            .setSitelinkAsset(storeSitelinkAsset)\n            .addFinalUrls(\"http://example.com/store\")\n            // Optionally sets a different URL for mobile.\n            .addFinalMobileUrls(\"http://example.com/mobile/store\")\n            .build());\n    assets.add(\n        Asset.newBuilder()\n            .setSitelinkAsset(storeAdditionalSitelinkAsset)\n            .addFinalUrls(\"http://example.com/store/more\")\n            // Optionally sets a different URL for mobile.\n            .addFinalMobileUrls(\"http://example.com/mobile/store/more\")\n            .build());\n    // Creates an operation to add each asset.\n    List<AssetOperation> operations =\n        assets.stream()\n            .map(a -> AssetOperation.newBuilder().setCreate(a).build())\n            .collect(Collectors.toList());\n    // Creates the service client.\n    try (AssetServiceClient client =\n        googleAdsClient.getLatestVersion().createAssetServiceClient()) {\n      // Sends the mutate request.\n      MutateAssetsResponse response = client.mutateAssets(String.valueOf(customerId), operations);\n      // Prints some information about the result.\n      List<String> resourceNames =\n          response.getResultsList().stream()\n              .map(MutateAssetResult::getResourceName)\n              .collect(Collectors.toList());\n      for (String resName : resourceNames) {\n        System.out.printf(\"Created sitelink asset with resource name '%s'.%n\", resName);\n      }\n      return resourceNames;\n    }\n  }\n\n  /** Links the assets to a campaign. */\n  private void linkSitelinksToCampaign(\n      GoogleAdsClient googleAdsClient,\n      List<String> sitelinkAssetResourceName,\n      long customerId,\n      long campaignId) {\n    // Creates CampaignAssets representing the association between sitelinks and campaign.\n    List<CampaignAssetOperation> campaignAssetOperations =\n        sitelinkAssetResourceName.stream()\n            // Creates the CampaignAsset link.\n            .map(\n                resName ->\n                    CampaignAsset.newBuilder()\n                        .setAsset(resName)\n                        .setCampaign(ResourceNames.campaign(customerId, campaignId))\n                        .setFieldType(AssetFieldType.SITELINK)\n                        .build())\n            // Creates a CampaignAssetOperation to create the CampaignAsset.\n            .map(a -> CampaignAssetOperation.newBuilder().setCreate(a).build())\n            .collect(Collectors.toList());\n    // Creates the service client.\n    try (CampaignAssetServiceClient client =\n        googleAdsClient.getLatestVersion().createCampaignAssetServiceClient()) {\n      // Sends the mutate request.\n      MutateCampaignAssetsResponse response =\n          client.mutateCampaignAssets(String.valueOf(customerId), campaignAssetOperations);\n      // Prints some information about the result.\n      for (MutateCampaignAssetResult result : response.getResultsList()) {\n        System.out.printf(\n            \"Linked sitelink to campaign with resource name '%s'.%n\", result.getResourceName());\n      }\n    }\n  }\n}\nAddSitelinks.java",
    "// Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nusing CommandLine;\nusing Google.Ads.Gax.Examples;\nusing Google.Ads.GoogleAds.Lib;\nusing Google.Ads.GoogleAds.V22.Common;\nusing Google.Ads.GoogleAds.V22.Errors;\nusing Google.Ads.GoogleAds.V22.Resources;\nusing Google.Ads.GoogleAds.V22.Services;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing static Google.Ads.GoogleAds.V22.Enums.AssetFieldTypeEnum.Types;\n\nnamespace Google.Ads.GoogleAds.Examples.V22\n{\n    /// <summary>\n    /// This code example adds sitelinks to a campaign using assets. Run AddCampaigns.cs to\n    /// create a campaign.\n    /// </summary>\n    public class AddSitelinks : ExampleBase\n    {\n        /// <summary>\n        /// Command line options for running the <see cref=\"AddSitelinks\"/> example.\n        /// </summary>\n        public class Options : OptionsBase\n        {\n            /// <summary>\n            /// The customer ID for which the call is made.\n            /// </summary>\n            [Option(\"customerId\", Required = true, HelpText =\n                \"The customer ID for which the call is made.\")]\n            public long CustomerId { get; set; }\n\n            /// <summary>\n            /// ID of the campaign to which sitelinks are added.\n            /// </summary>\n            [Option(\"campaignId\", Required = true, HelpText =\n                \"ID of the campaign to which sitelinks are added.\")]\n            public long CampaignId { get; set; }\n        }\n\n        /// <summary>\n        /// Main method, to run this code example as a standalone application.\n        /// </summary>\n        /// <param name=\"args\">The command line arguments.</param>\n        public static void Main(string[] args)\n        {\n            Options options = ExampleUtilities.ParseCommandLine<Options>(args);\n\n            AddSitelinks codeExample = new AddSitelinks();\n            Console.WriteLine(codeExample.Description);\n            codeExample.Run(new GoogleAdsClient(), options.CustomerId, options.CampaignId);\n        }\n\n        /// <summary>\n        /// Returns a description about the code example.\n        /// </summary>\n        public override string Description =>\n            \"This code example adds sitelinks to a campaign using assets. Run AddCampaigns.cs \" +\n                \"to create a campaign.\";\n\n        /// <summary>\n        /// Runs the code example.\n        /// </summary>\n        /// <param name=\"client\">The Google Ads client.</param>\n        /// <param name=\"customerId\">The customer ID for which the call is made.</param>\n        /// <param name=\"campaignId\">ID of the campaign to which sitelinks are added.</param>\n        public void Run(GoogleAdsClient client, long customerId, long campaignId)\n        {\n            try\n            {\n                // Creates a sitelink asset.\n                List<string> siteLinkResourceNames = CreateSitelinkAssets(client, customerId);\n\n                // Associates the sitelinks at the campaign level.\n                LinkSitelinksToCampaign(client, customerId, campaignId, siteLinkResourceNames);\n            }\n            catch (GoogleAdsException e)\n            {\n                Console.WriteLine(\"Failure:\");\n                Console.WriteLine($\"Message: {e.Message}\");\n                Console.WriteLine($\"Failure: {e.Failure}\");\n                Console.WriteLine($\"Request ID: {e.RequestId}\");\n                throw;\n            }\n        }\n\n        /// <summary>\n        /// Creates a list of <see cref=\"SitelinkAsset\"/> objects which can then be added\n        /// to campaigns.\n        /// </summary>\n        /// <param name=\"client\">The Google Ads client.</param>\n        /// <param name=\"customerId\">The customer ID for which the call is made.</param>\n        /// <returns>The list of sitelink resource names.</returns>\n        private List<string> CreateSitelinkAssets(GoogleAdsClient client, long customerId)\n        {\n            AssetServiceClient assetService = client.GetService(Services.V22.AssetService);\n\n            // Creates some sitelink assets.\n            SitelinkAsset storeLocatorAsset = new SitelinkAsset()\n            {\n                Description1 = \"Get in touch\",\n                Description2 = \"Find your local store\",\n                LinkText = \"Store locator\"\n            };\n\n            SitelinkAsset storeAsset = new SitelinkAsset()\n            {\n                Description1 = \"Buy some stuff\",\n                Description2 = \"It's really good\",\n                LinkText = \"Store\"\n            };\n\n            SitelinkAsset storeAdditionalAsset = new SitelinkAsset()\n            {\n                Description1 = \"Even more stuff\",\n                Description2 = \"There's never enough\",\n                LinkText = \"Store for more\"\n            };\n\n            // Wraps the sitelinks in an Asset and sets the URLs.\n            List<Asset> assets = new List<Asset>()\n            {\n                new Asset()\n                {\n                    SitelinkAsset = storeLocatorAsset,\n                    FinalUrls = { \"http://example.com/contact/store-finder\" },\n                    // Optionally sets a different URL for mobile.\n                    FinalMobileUrls = { \"http://example.com/mobile/contact/store-finder\" }\n                },\n                new Asset()\n                {\n                    SitelinkAsset = storeAsset,\n                    FinalUrls = { \"http://example.com/store\" },\n                    // Optionally sets a different URL for mobile.\n                    FinalMobileUrls = {\"http://example.com/mobile/store\" }\n                },\n                new Asset()\n                {\n                    SitelinkAsset = storeAdditionalAsset,\n                    FinalUrls = { \"http://example.com/store/more\" },\n                    // Optionally sets a different URL for mobile.\n                    FinalMobileUrls = { \"http://example.com/mobile/store/more\" }\n                }\n            };\n\n            // Creates an operation to add each asset.\n            List<AssetOperation> operations = assets.Select(\n                asset => new AssetOperation()\n                {\n                    Create = asset,\n                }).ToList();\n\n            // Sends the mutate request.\n            MutateAssetsResponse response = assetService.MutateAssets(\n                customerId.ToString(), operations);\n\n            // Prints some information about the result.\n\n            List<string> resourceNames = response.Results.Select(\n                result => result.ResourceName).ToList();\n            foreach (string resourceName in resourceNames)\n            {\n                Console.WriteLine($\"Created sitelink asset with resource name '{resourceNames}'.\");\n            }\n            return resourceNames;\n        }\n\n        /** Links the assets to a campaign. */\n\n        /// <summary>\n        /// Links the sitelinks to campaign.\n        /// </summary>\n        /// <param name=\"client\">The Google Ads client.</param>\n        /// <param name=\"customerId\">The customer ID for which the call is made.</param>\n        /// <param name=\"campaignId\">ID of the campaign to which sitelinks are added.\n        /// </param>\n        /// <param name=\"sitelinkAssetResourceNames\">The sitelink asset resource names.</param>\n        private void LinkSitelinksToCampaign(GoogleAdsClient client, long customerId,\n            long campaignId, List<string> sitelinkAssetResourceNames)\n        {\n            CampaignAssetServiceClient campaignAssetService = client.GetService(\n                Services.V22.CampaignAssetService);\n\n            string campaignResourceName = ResourceNames.Campaign(customerId, campaignId);\n\n            // Creates operations.\n            List<CampaignAssetOperation> campaignAssetOperations =\n                sitelinkAssetResourceNames.Select(resourceName =>\n                    new CampaignAssetOperation()\n                    {\n                        // Creates CampaignAsset representing the association between sitelinks\n                        // and campaign.\n                        Create = new CampaignAsset()\n                        {\n                            Asset = resourceName,\n                            Campaign = campaignResourceName,\n                            FieldType = AssetFieldType.Sitelink\n                        }\n                    }).ToList();\n\n            // Sends the mutate request.\n            MutateCampaignAssetsResponse response = campaignAssetService.MutateCampaignAssets(\n                customerId.ToString(), campaignAssetOperations);\n            // Prints some information about the result.\n            foreach (MutateCampaignAssetResult result in response.Results)\n            {\n                Console.WriteLine($\"Linked sitelink to campaign with resource \" +\n                    $\"name '{result.ResourceName}'.\");\n            }\n        }\n    }\n}AddSitelinks.cs",
    "This example is not yet available in PHP; you can take a look at the other languages.",
    "#!/usr/bin/env python\n# Copyright 2020 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\"\"\"Adds sitelinks to a campaign using Assets.\n\nRun basic_operations/add_campaigns.py to create a campaign.\n\"\"\"\n\nimport argparse\nfrom typing import List\nimport sys\n\nfrom google.ads.googleads.client import GoogleAdsClient\nfrom google.ads.googleads.errors import GoogleAdsException\nfrom google.ads.googleads.v22.services.types.asset_service import AssetOperation\nfrom google.ads.googleads.v22.resources.types.asset import Asset\nfrom google.ads.googleads.v22.services.types.campaign_asset_service import (\n    CampaignAssetOperation,\n)\nfrom google.ads.googleads.v22.resources.types.campaign_asset import (\n    CampaignAsset,\n)\n\n\ndef main(client: GoogleAdsClient, customer_id: str, campaign_id: str) -> None:\n    \"\"\"Adds sitelinks to a campaign using assets.\n\n    Args:\n        client: The Google Ads client.\n        customer_id: The customer ID for which to add the keyword.\n        campaign_id: The campaign to which sitelinks will be added.\n    \"\"\"\n    # Creates sitelink assets.\n    resource_names: List[str] = create_sitelink_assets(client, customer_id)\n    # Associates the sitelinks at the campaign level.\n    link_sitelinks_to_campaign(client, customer_id, campaign_id, resource_names)\n\n\ndef create_sitelink_assets(\n    client: GoogleAdsClient, customer_id: str\n) -> List[str]:\n    \"\"\"Creates sitelink assets, which can be added to campaigns.\n\n    Args:\n        client: The Google Ads client.\n        customer_id: The customer ID for which to add the keyword.\n\n    Returns:\n        a list of sitelink asset resource names.\n    \"\"\"\n    store_locator_operation: AssetOperation = client.get_type(\"AssetOperation\")\n    store_locator_asset: Asset = store_locator_operation.create\n    store_locator_asset.final_urls.append(\n        \"http://example.com/contact/store-finder\"\n    )\n    store_locator_asset.final_mobile_urls.append(\n        \"http://example.com/mobile/contact/store-finder\"\n    )\n    store_locator_asset.sitelink_asset.description1 = \"Get in touch\"\n    store_locator_asset.sitelink_asset.description2 = \"Find your local store\"\n    store_locator_asset.sitelink_asset.link_text = \"Store locator\"\n\n    store_asset_operation: AssetOperation = client.get_type(\"AssetOperation\")\n    store_asset: Asset = store_asset_operation.create\n    store_asset.final_urls.append(\"http://example.com/store\")\n    store_asset.final_mobile_urls.append(\"http://example.com/mobile/store\")\n    store_asset.sitelink_asset.description1 = \"Buy some stuff\"\n    store_asset.sitelink_asset.description2 = \"It's really good\"\n    store_asset.sitelink_asset.link_text = \"Store\"\n\n    store_addnl_asset_operation: AssetOperation = client.get_type(\n        \"AssetOperation\"\n    )\n    store_addnl_asset: Asset = store_addnl_asset_operation.create\n    store_addnl_asset.final_urls.append(\"http://example.com/store/more\")\n    store_addnl_asset.final_mobile_urls.append(\n        \"http://example.com/mobile/store/more\"\n    )\n    store_addnl_asset.sitelink_asset.description1 = \"Buy some stuff\"\n    store_addnl_asset.sitelink_asset.description2 = \"It's really good\"\n    store_addnl_asset.sitelink_asset.link_text = \"Store\"\n\n    asset_service = client.get_service(\"AssetService\")\n    response = asset_service.mutate_assets(\n        customer_id=customer_id,\n        operations=[\n            store_locator_operation,\n            store_asset_operation,\n            store_addnl_asset_operation,\n        ],\n    )\n\n    resource_names: List[str] = [\n        result.resource_name for result in response.results\n    ]\n\n    for resource_name in resource_names:\n        print(f\"Created sitelink asset with resource name '{resource_name}'.\")\n\n    return resource_names\n\n\ndef link_sitelinks_to_campaign(\n    client: GoogleAdsClient,\n    customer_id: str,\n    campaign_id: str,\n    resource_names: List[str],\n) -> None:\n    \"\"\"Creates sitelink assets, which can be added to campaigns.\n\n    Args:\n        client: The Google Ads client.\n        customer_id: The customer ID for which to add the keyword.\n        campaign_id: The campaign to which sitelinks will be added.\n        resource_names: a list of sitelink asset resource names.\n    \"\"\"\n    campaign_service = client.get_service(\"CampaignService\")\n    operations: List[CampaignAssetOperation] = []\n    for resource_name in resource_names:\n        operation: CampaignAssetOperation = client.get_type(\n            \"CampaignAssetOperation\"\n        )\n        campaign_asset: CampaignAsset = operation.create\n        campaign_asset.asset = resource_name\n        campaign_asset.campaign = campaign_service.campaign_path(\n            customer_id, campaign_id\n        )\n        campaign_asset.field_type = client.enums.AssetFieldTypeEnum.SITELINK\n        operations.append(operation)\n\n    campaign_asset_service = client.get_service(\"CampaignAssetService\")\n    response = campaign_asset_service.mutate_campaign_assets(\n        customer_id=customer_id, operations=operations\n    )\n\n    for result in response.results:\n        print(\n            \"Linked sitelink to campaign with resource name '{result.resource_name}'.\"\n        )\n\n\nif __name__ == \"__main__\":\n    parser: argparse.ArgumentParser = argparse.ArgumentParser(\n        description=\"Adds sitelinks to a campaign using feed services.\"\n    )\n    # The following argument(s) should be provided to run the example.\n    parser.add_argument(\n        \"-c\",\n        \"--customer_id\",\n        type=str,\n        required=True,\n        help=\"The Google Ads customer ID.\",\n    )\n    parser.add_argument(\n        \"-i\",\n        \"--campaign_id\",\n        type=str,\n        required=True,\n        default=None,\n        help=\"ID of the campaign to which sitelinks will be added.\",\n    )\n    args: argparse.Namespace = parser.parse_args()\n\n    # GoogleAdsClient will read the google-ads.yaml configuration file in the\n    # home directory if none is specified.\n    googleads_client: GoogleAdsClient = GoogleAdsClient.load_from_storage(\n        version=\"v22\"\n    )\n\n    try:\n        main(googleads_client, args.customer_id, args.campaign_id)\n    except GoogleAdsException as ex:\n        print(\n            f\"Request with ID '{ex.request_id}' failed with status \"\n            f\"'{ex.error.code().name}' and includes the following errors:\"\n        )\n        for error in ex.failure.errors:\n            print(f\"\\tError with message '{error.message}'.\")\n            if error.location:\n                for field_path_element in error.location.field_path_elements:\n                    print(f\"\\t\\tOn field: {field_path_element.field_name}\")\n        sys.exit(1)\nadd_sitelinks.py",
    "#!/usr/bin/env ruby\n# Encoding: utf-8\n#\n# Copyright 2020 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n# Adds sitelinks to a campaign. To create a campaign, run add_campaigns.rb.\n\nrequire 'optparse'\nrequire 'google/ads/google_ads'\nrequire 'date'\n\ndef add_sitelinks(customer_id, campaign_id)\n  # GoogleAdsClient will read a config file from\n  # ENV['HOME']/google_ads_config.rb when called without parameters\n  client = Google::Ads::GoogleAds::GoogleAdsClient.new\n\n  resource_names = create_sitelink_assets(client, customer_id)\n\n  link_sitelinks_to_campaign(client, resource_names, customer_id, campaign_id)\nend\n\ndef create_sitelink_assets(client, customer_id)\n  assets = [\n    client.resource.asset do |asset|\n      asset.sitelink_asset = client.resource.sitelink_asset do |sitelink|\n        sitelink.description1 = \"Get in touch\"\n        sitelink.description2 = \"Find your local store\"\n        sitelink.link_text = \"Store locator\"\n      end\n      asset.final_urls << \"http://example.com/contact/store-finder\"\n      asset.final_mobile_urls << \"http://example.com/mobile/contact/store-finder\"\n    end,\n    client.resource.asset do |asset|\n      asset.sitelink_asset = client.resource.sitelink_asset do |sitelink|\n        sitelink.description1 = \"But some stuff\"\n        sitelink.description2 = \"It's really good\"\n        sitelink.link_text = \"Store\"\n      end\n      asset.final_urls << \"http://example.com/store\"\n      asset.final_mobile_urls << \"http://example.com/mobile/store\"\n    end,\n    client.resource.asset do |asset|\n      asset.sitelink_asset = client.resource.sitelink_asset do |sitelink|\n        sitelink.description1 = \"Even more stuff\"\n        sitelink.description2 = \"There's never enough\"\n        sitelink.link_text = \"Store for more\"\n      end\n      asset.final_urls << \"http://example.com/store/more\"\n      asset.final_mobile_urls << \"http://example.com/mobile/store/more\"\n    end,\n  ]\n\n  operations = assets.map do |asset|\n    client.operation.create_resource.asset(asset)\n  end\n\n  response = client.service.asset.mutate_assets(\n    customer_id: customer_id,\n    operations: operations,\n  )\n\n  response.results.map do |result|\n    puts \"Created sitelink asset with resource name #{result.resource_name}\"\n    result.resource_name\n  end\nend\n\ndef link_sitelinks_to_campaign(client, resource_names, customer_id, campaign_id)\n  operations = resource_names.map do |resource_name|\n    client.operation.create_resource.campaign_asset do |ca|\n      ca.asset = resource_name\n      ca.campaign = client.path.campaign(customer_id, campaign_id)\n      ca.field_type = :SITELINK\n    end\n  end\n\n  response = client.service.campaign_asset.mutate_campaign_assets(\n    customer_id: customer_id,\n    operations: operations,\n  )\n\n  response.results.each do |result|\n    puts \"Created campaign asset with resource name #{result.resource_name}.\"\n  end\nend\n\nif __FILE__ == $0\n  options = {}\n  # The following parameter(s) should be provided to run the example. You can\n  # either specify these by changing the INSERT_XXX_ID_HERE values below, or on\n  # the command line.\n  #\n  # Parameters passed on the command line will override any parameters set in\n  # code.\n  #\n  # Running the example with -h will print the command line usage.\n  options[:customer_id] = 'INSERT_CUSTOMER_ID_HERE'\n  options[:campaign_id] = 'INSERT_CAMPAIGN_ID_HERE'\n\n  OptionParser.new do |opts|\n    opts.banner = sprintf('Usage: %s [options]', File.basename(__FILE__))\n\n    opts.separator ''\n    opts.separator 'Options:'\n\n    opts.on('-C', '--customer-id CUSTOMER-ID', String, 'Customer ID') do |v|\n      options[:customer_id] = v\n    end\n\n    opts.on('-c', '--campaign-id CAMPAIGN-ID', String, 'Campaign ID') do |v|\n      options[:campaign_id] = v\n    end\n\n    opts.separator ''\n    opts.separator 'Help:'\n\n    opts.on_tail('-h', '--help', 'Show this message') do\n      puts opts\n      exit\n    end\n  end.parse!\n\n  begin\n    add_sitelinks(options.fetch(:customer_id).tr(\"-\", \"\"), options.fetch(:campaign_id))\n  rescue Google::Ads::GoogleAds::Errors::GoogleAdsError => e\n    e.failure.errors.each do |error|\n      STDERR.printf(\"Error with message: %s\\n\", error.message)\n      if error.location\n        error.location.field_path_elements.each do |field_path_element|\n          STDERR.printf(\"\\tOn field: %s\\n\", field_path_element.field_name)\n        end\n      end\n      error.error_code.to_h.each do |k, v|\n        next if v == :UNSPECIFIED\n        STDERR.printf(\"\\tType: %s\\n\\tCode: %s\\n\", k, v)\n      end\n    end\n    raise\n  end\nend\nadd_sitelinks.rb",
    "#!/usr/bin/perl -w\n#\n# Copyright 2021, Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n# Adds sitelinks to a campaign using Assets. To create a campaign, run add_campaigns.pl.\n\nuse strict;\nuse warnings;\nuse utf8;\n\nuse FindBin qw($Bin);\nuse lib \"$Bin/../../lib\";\nuse Google::Ads::GoogleAds::Client;\nuse Google::Ads::GoogleAds::Utils::GoogleAdsHelper;\nuse Google::Ads::GoogleAds::V22::Resources::Asset;\nuse Google::Ads::GoogleAds::V22::Resources::CampaignAsset;\nuse Google::Ads::GoogleAds::V22::Common::SitelinkAsset;\nuse Google::Ads::GoogleAds::V22::Enums::AssetFieldTypeEnum qw(SITELINK);\nuse Google::Ads::GoogleAds::V22::Services::AssetService::AssetOperation;\nuse\n  Google::Ads::GoogleAds::V22::Services::CampaignAssetService::CampaignAssetOperation;\nuse Google::Ads::GoogleAds::V22::Utils::ResourceNames;\n\nuse Getopt::Long qw(:config auto_help);\nuse Pod::Usage;\nuse Cwd qw(abs_path);\n\n# The following parameter(s) should be provided to run the example. You can\n# either specify these by changing the INSERT_XXX_ID_HERE values below, or on\n# the command line.\n#\n# Parameters passed on the command line will override any parameters set in\n# code.\n#\n# Running the example with -h will print the command line usage.\nmy $customer_id = \"INSERT_CUSTOMER_ID_HERE\";\nmy $campaign_id = \"INSERT_CAMPAIGN_ID_HERE\";\n\nsub add_sitelinks_using_assets {\n  my ($api_client, $customer_id, $campaign_id) = @_;\n\n  # Create sitelink assets.\n  my $sitelink_asset_resource_names =\n    create_sitelink_assets($api_client, $customer_id);\n\n  # Associate the sitelinks at the campaign level.\n  link_sitelinks_to_campaign($api_client, $sitelink_asset_resource_names,\n    $customer_id, $campaign_id);\n\n  return 1;\n}\n\n# Creates sitelink assets which can then be added to campaigns.\nsub create_sitelink_assets {\n  my ($api_client, $customer_id) = @_;\n\n  # Create some sitelink assets.\n  my $store_locator_asset =\n    Google::Ads::GoogleAds::V22::Common::SitelinkAsset->new({\n      description1 => \"Get in touch\",\n      description2 => \"Find your local store\",\n      linkText     => \"Store locator\"\n    });\n\n  my $store_asset = Google::Ads::GoogleAds::V22::Common::SitelinkAsset->new({\n    description1 => \"Buy some stuff\",\n    description2 => \"It's really good\",\n    linkText     => \"Store\"\n  });\n\n  my $store_additional_asset =\n    Google::Ads::GoogleAds::V22::Common::SitelinkAsset->new({\n      description1 => \"Even more stuff\",\n      description2 => \"There's never enough\",\n      linkText     => \"Store for more\"\n    });\n\n  # Wrap the sitelinks in an Asset and set the URLs.\n  my $assets = [];\n  push @$assets, Google::Ads::GoogleAds::V22::Resources::Asset->new({\n      sitelinkAsset => $store_locator_asset,\n      finalUrls     => [\"http://example.com/contact/store-finder\"],\n      # Optionally set a different URL for mobile.\n      finalMobileUrls => [\"http://example.com/mobile/contact/store-finder\"]});\n\n  push @$assets, Google::Ads::GoogleAds::V22::Resources::Asset->new({\n      sitelinkAsset => $store_asset,\n      finalUrls     => [\"http://example.com/store\"],\n      # Optionally set a different URL for mobile.\n      finalMobileUrls => [\"http://example.com/mobile/store\"]});\n\n  push @$assets, Google::Ads::GoogleAds::V22::Resources::Asset->new({\n      sitelinkAsset => $store_additional_asset,\n      finalUrls     => [\"http://example.com/store/more\"],\n      # Optionally set a different URL for mobile.\n      finalMobileUrls => [\"http://example.com/mobile/store/more\"]});\n\n  # Create the operations to add each asset.\n  my $operations = [];\n  foreach my $asset (@$assets) {\n    push @$operations,\n      Google::Ads::GoogleAds::V22::Services::AssetService::AssetOperation->new((\n        {\n          create => $asset\n        }));\n  }\n\n  # Send the mutate request.\n  my $response = $api_client->AssetService()->mutate({\n    customerId => $customer_id,\n    operations => $operations\n  });\n\n  # Print some information about the result.\n  my $resource_names = [];\n  foreach my $result (@{$response->{results}}) {\n    push @$resource_names, $result->{resourceName};\n    printf \"Created sitelink asset with resource name '%s'.\\n\",\n      $result->{resourceName};\n  }\n\n  return $resource_names;\n}\n\n# Links the assets to a campaign.\nsub link_sitelinks_to_campaign {\n  my ($api_client, $sitelink_asset_resource_names, $customer_id, $campaign_id)\n    = @_;\n\n  # Create CampaignAssets representing the association between sitelinks and campaign.\n  my $operations = [];\n  foreach my $sitelink_asset_resource_name (@$sitelink_asset_resource_names) {\n    push @$operations,\n      # Create a CampaignAssetOperation to create the CampaignAsset.\n      Google::Ads::GoogleAds::V22::Services::CampaignAssetService::CampaignAssetOperation\n      ->new({\n        # Create the CampaignAsset link.\n        create => Google::Ads::GoogleAds::V22::Resources::CampaignAsset->new({\n            asset    => $sitelink_asset_resource_name,\n            campaign =>\n              Google::Ads::GoogleAds::V22::Utils::ResourceNames::campaign(\n              $customer_id, $campaign_id\n              ),\n            fieldType => SITELINK\n          })});\n  }\n\n  # Send the mutate request.\n  my $response = $api_client->CampaignAssetService()->mutate({\n    customerId => $customer_id,\n    operations => $operations\n  });\n\n  # Print some information about the result.\n  foreach my $result (@{$response->{results}}) {\n    printf \"Linked sitelink to campaign with resource name '%s'.\\n\",\n      $result->{resourceName};\n  }\n}\n\n# Don't run the example if the file is being included.\nif (abs_path($0) ne abs_path(__FILE__)) {\n  return 1;\n}\n\n# Get Google Ads Client, credentials will be read from ~/googleads.properties.\nmy $api_client = Google::Ads::GoogleAds::Client->new();\n\n# By default examples are set to die on any server returned fault.\n$api_client->set_die_on_faults(1);\n\n# Parameters passed on the command line will override any parameters set in code.\nGetOptions(\"customer_id=s\" => \\$customer_id, \"campaign_id=i\" => \\$campaign_id);\n\n# Print the help message if the parameters are not initialized in the code nor\n# in the command line.\npod2usage(2) if not check_params($customer_id, $campaign_id);\n\n# Call the example.\nadd_sitelinks_using_assets($api_client, $customer_id =~ s/-//gr, $campaign_id);\n\n=pod\n\n=head1 NAME\n\nadd_sitelinks_using_assets.pl\n\n=head1 DESCRIPTION\n\nAdds sitelinks to a campaign using Assets. To create a campaign, run add_campaigns.pl.\n\n=head1 SYNOPSIS\n\nadd_sitelinks.pl [options]\n\n    -help                       Show the help message.\n    -customer_id                The Google Ads customer ID.\n    -campaign_id                The campaign ID.\n\n=cut\nadd_sitelinks.pl"
  ],
  "tables": [],
  "mainText": "To discuss and provide feedback on our products, join the official Google Ads Discord channel in the Google Advertising and Measurement Community server.\n        \n      \n    \n  \n  \n  \n\n  \n    \n    \n    \n  \n  \n    \n    \n    \n      \n  \n    \n        Home\n      \n  \n  \n    \n  \n  \n  \n    \n      \n      \n    \n    \n    \n      \n  \n    \n        Products\n      \n  \n  \n    \n  \n  \n  \n    \n      \n      \n    \n    \n    \n      \n  \n    \n        Google Ads API\n      \n  \n  \n    \n  \n  \n  \n    \n      \n      \n    \n    \n    \n      \n  \n    \n        Google Ads API\n      \n  \n  \n    \n  \n  \n  \n    \n      \n      \n    \n    \n    \n      \n  \n    \n        Libraries and samples\n      \n  \n  \n    \n  \n  \n\n    \n      \n    \n    \n  \n    \n  \n  \n    \n      Add Sitelinks\n\n    \n    \n      \n    \n\n    \n      \n      Stay organized with collections\n    \n    \n      \n      Save and categorize content based on your preferences.\n    \n  \n    \n  \n      \n    \n  \n  \n\n  \n  \n  \n    \n    \n    \n  \n\n  \n    \n      \n  \n    \n    \n    \n    AI-generated Key Takeaways\n    \n  \n  \n    \n      \n        outlined_flag\n      \n    \n    \n      \n        \n          The code examples demonstrate how to add sitelinks to a campaign using assets in various programming languages.\n\n        \n      \n        \n          Sitelink assets are created first, defining the text, descriptions, and URLs (including mobile-specific URLs).\n\n        \n      \n        \n          These sitelink assets are then linked to a specific campaign using CampaignAsset operations.\n\n        \n      \n        \n          The process involves using the AssetService and CampaignAssetService to mutate assets and campaign assets, respectively.\n\n        \n      \n    \n  \n\n    \n    \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n  \n  \n  \n    \n  \n  \n  \n  \n  \n  \n\n  \n  \n    \n    \n    \n      \n      \n        \n      \n    \n      \n        \n      \n      \n        \n      \n        \n      \n    \n    \n      \n      \n      \n        \n          \n        \n        \n      \n        \n          \n        \n        \n      \n      \n    \n  \n\n  \n  \n\n  \n  \n    \n    \n  \n\n  \n  \n  \n\n  \n  \n\n  Java\n  \n  \n    \n      \n        // Copyright 2021 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\npackage com.google.ads.googleads.examples.assets;\n\nimport com.beust.jcommander.Parameter;\nimport com.google.ads.googleads.examples.utils.ArgumentNames;\nimport com.google.ads.googleads.examples.utils.CodeSampleParams;\nimport com.google.ads.googleads.lib.GoogleAdsClient;\nimport com.google.ads.googleads.v22.common.SitelinkAsset;\nimport com.google.ads.googleads.v22.enums.AssetFieldTypeEnum.AssetFieldType;\nimport com.google.ads.googleads.v22.errors.GoogleAdsError;\nimport com.google.ads.googleads.v22.errors.GoogleAdsException;\nimport com.google.ads.googleads.v22.resources.Asset;\nimport com.google.ads.googleads.v22.resources.CampaignAsset;\nimport com.google.ads.googleads.v22.services.AssetOperation;\nimport com.google.ads.googleads.v22.services.AssetServiceClient;\nimport com.google.ads.googleads.v22.services.CampaignAssetOperation;\nimport com.google.ads.googleads.v22.services.CampaignAssetServiceClient;\nimport com.google.ads.googleads.v22.services.MutateAssetResult;\nimport com.google.ads.googleads.v22.services.MutateAssetsResponse;\nimport com.google.ads.googleads.v22.services.MutateCampaignAssetResult;\nimport com.google.ads.googleads.v22.services.MutateCampaignAssetsResponse;\nimport com.google.ads.googleads.v22.utils.ResourceNames;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n/** Adds sitelinks to a campaign using Assets. To create a campaign, run AddCampaigns.java. */\npublic class AddSitelinks {\n\n  private static class AddSitelinksParams extends CodeSampleParams {\n\n    @Parameter(names = ArgumentNames.CUSTOMER_ID, required = true)\n    private Long customerId;\n\n    @Parameter(names = ArgumentNames.CAMPAIGN_ID, required = true)\n    private Long campaignId;\n  }\n\n  public static void main(String[] args) {\n    AddSitelinksParams params = new AddSitelinksParams();\n    if (!params.parseArguments(args)) {\n\n      // Either pass the required parameters for this example on the command line, or insert them\n      // into the code here. See the parameter class definition above for descriptions.\n      params.customerId = Long.parseLong(\"INSERT_CUSTOMER_ID_HERE\");\n      params.campaignId = Long.parseLong(\"INSERT_CAMPAIGN_ID_HERE\");\n    }\n\n    GoogleAdsClie",
  "fetchedAt": "2025-10-30T08:36:46.073Z"
}