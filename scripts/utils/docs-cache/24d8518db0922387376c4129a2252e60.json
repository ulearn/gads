{
  "url": "https://developers.google.com/google-ads/api/samples/add-call",
  "title": "Add Call  |  Google Ads API  |  Google for DevelopersGoogleGoogle",
  "headings": [
    {
      "level": "h1",
      "text": "Add Call\n\n    \n    \n      \n    \n\n    \n      \n      Stay organized with collections\n    \n    \n      \n      Save and categorize content based on your preferences."
    },
    {
      "level": "h2",
      "text": "AI-generated Key Takeaways"
    },
    {
      "level": "h3",
      "text": "Java"
    },
    {
      "level": "h3",
      "text": "C#"
    },
    {
      "level": "h3",
      "text": "PHP"
    },
    {
      "level": "h3",
      "text": "Python"
    },
    {
      "level": "h3",
      "text": "Ruby"
    },
    {
      "level": "h3",
      "text": "Perl"
    }
  ],
  "codeBlocks": [
    "// Copyright 2022 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\npackage com.google.ads.googleads.examples.assets;\n\nimport com.beust.jcommander.Parameter;\nimport com.google.ads.googleads.examples.utils.ArgumentNames;\nimport com.google.ads.googleads.examples.utils.CodeSampleParams;\nimport com.google.ads.googleads.lib.GoogleAdsClient;\nimport com.google.ads.googleads.v22.common.AdScheduleInfo;\nimport com.google.ads.googleads.v22.common.CallAsset;\nimport com.google.ads.googleads.v22.enums.AssetFieldTypeEnum.AssetFieldType;\nimport com.google.ads.googleads.v22.enums.CallConversionReportingStateEnum.CallConversionReportingState;\nimport com.google.ads.googleads.v22.enums.DayOfWeekEnum.DayOfWeek;\nimport com.google.ads.googleads.v22.enums.MinuteOfHourEnum.MinuteOfHour;\nimport com.google.ads.googleads.v22.errors.GoogleAdsError;\nimport com.google.ads.googleads.v22.errors.GoogleAdsException;\nimport com.google.ads.googleads.v22.resources.Asset;\nimport com.google.ads.googleads.v22.resources.CustomerAsset;\nimport com.google.ads.googleads.v22.services.AssetOperation;\nimport com.google.ads.googleads.v22.services.AssetServiceClient;\nimport com.google.ads.googleads.v22.services.CustomerAssetOperation;\nimport com.google.ads.googleads.v22.services.CustomerAssetServiceClient;\nimport com.google.ads.googleads.v22.services.MutateAssetsResponse;\nimport com.google.ads.googleads.v22.services.MutateCustomerAssetsResponse;\nimport com.google.ads.googleads.v22.utils.ResourceNames;\nimport com.google.common.collect.ImmutableList;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\n\n/** This example adds a call asset to a specific account. */\npublic class AddCall {\n  private static class AddCallParams extends CodeSampleParams {\n\n    @Parameter(names = ArgumentNames.CUSTOMER_ID, required = true)\n    private Long customerId;\n\n    // Specifies the phone country code here or the default specified below will be used.\n    // See supported codes at:\n    // https://developers.google.com/google-ads/api/reference/data/codes-formats#expandable-17\n    @Parameter(names = ArgumentNames.PHONE_COUNTRY, required = true)\n    private String phoneCountry = \"US\";\n\n    @Parameter(names = ArgumentNames.PHONE_NUMBER, required = true)\n    private String phoneNumber;\n\n    // Optional: Specifies the conversion action ID to attribute call conversions to. If not set,\n    // the default conversion action is used.\n    @Parameter(names = ArgumentNames.CONVERSION_ACTION_ID)\n    private Integer conversionActionId;\n  }\n\n  public static void main(String[] args) throws IOException {\n    AddCallParams params = new AddCallParams();\n    if (!params.parseArguments(args)) {\n\n      // Either pass the required parameters for this example on the command line, or insert them\n      // into the code here. See the parameter class definition above for descriptions.\n      params.customerId = Long.parseLong(\"INSERT_CUSTOMER_ID_HERE\");\n      params.phoneCountry = \"US\";\n      params.phoneNumber = \"INSERT_PHONE_NUMBER_HERE\";\n      // Optional: Specifies the conversion action ID to attribute call conversions to. If not set,\n      // the default conversion action is used.\n      params.conversionActionId = null;\n    }\n\n    GoogleAdsClient googleAdsClient = null;\n    try {\n      googleAdsClient = GoogleAdsClient.newBuilder().fromPropertiesFile().build();\n    } catch (FileNotFoundException fnfe) {\n      System.err.printf(\n          \"Failed to load GoogleAdsClient configuration from file. Exception: %s%n\", fnfe);\n      System.exit(1);\n    } catch (IOException ioe) {\n      System.err.printf(\"Failed to create GoogleAdsClient. Exception: %s%n\", ioe);\n      System.exit(1);\n    }\n\n    try {\n      new AddCall()\n          .runExample(\n              googleAdsClient,\n              params.customerId,\n              params.phoneCountry,\n              params.phoneNumber,\n              params.conversionActionId);\n    } catch (GoogleAdsException gae) {\n      // GoogleAdsException is the base class for most exceptions thrown by an API request.\n      // Instances of this exception have a message and a GoogleAdsFailure that contains a\n      // collection of GoogleAdsErrors that indicate the underlying causes of the\n      // GoogleAdsException.\n      System.err.printf(\n          \"Request ID %s failed due to GoogleAdsException. Underlying errors:%n\",\n          gae.getRequestId());\n      int i = 0;\n      for (GoogleAdsError googleAdsError : gae.getGoogleAdsFailure().getErrorsList()) {\n        System.err.printf(\"  Error %d: %s%n\", i++, googleAdsError);\n      }\n      System.exit(1);\n    }\n  }\n\n  /**\n   * Runs the example.\n   *\n   * @param googleAdsClient the Google Ads API client.\n   * @param customerId the client customer ID.\n   * @param phoneCountry the phone country (2-letter code).\n   * @param phoneNumber the raw phone number, e.g. '(800) 555-0100'.\n   * @param conversionActionId the conversion action ID to attribute conversions to.\n   * @throws GoogleAdsException if an API request failed with one or more service errors.\n   */\n  private void runExample(\n      GoogleAdsClient googleAdsClient,\n      long customerId,\n      String phoneCountry,\n      String phoneNumber,\n      Integer conversionActionId) {\n    // Creates the call asset.\n    String assetResourceName =\n        addCallAsset(googleAdsClient, customerId, phoneCountry, phoneNumber, conversionActionId);\n\n    // Links the assets at the account level, so they will serve in all eligible campaigns.\n    linkAssetToAccount(googleAdsClient, customerId, assetResourceName);\n  }\n\n  /**\n   * Creates a new call asset.\n   *\n   * @param googleAdsClient the Google Ads API client.\n   * @param customerId the client customer ID.\n   * @param phoneCountry the phone country (2-letter code).\n   * @param phoneNumber the raw phone number, e.g. '(800) 555-0100'.\n   * @param conversionActionId the conversion action ID to attribute conversions to.\n   * @return resource name of the newly created asset.\n   */\n  private String addCallAsset(\n      GoogleAdsClient googleAdsClient,\n      long customerId,\n      String phoneCountry,\n      String phoneNumber,\n      Integer conversionActionId) {\n    CallAsset.Builder callAssetBuilder =\n        CallAsset.newBuilder()\n            // Sets the country code and phone number of the business to call.\n            .setCountryCode(phoneCountry)\n            .setPhoneNumber(phoneNumber)\n            // Optional: Specifies all day and time intervals for which the asset may serve.\n            .addAdScheduleTargets(\n                AdScheduleInfo.newBuilder()\n                    // Sets the day of this schedule as Monday.\n                    .setDayOfWeek(DayOfWeek.MONDAY)\n                    // Sets the start hour to 9am.\n                    .setStartHour(9)\n                    // Sets the end hour to 5pm.\n                    .setEndHour(17)\n                    // Sets the start and end minute of zero, for example: 9:00 and 5:00.\n                    .setStartMinute(MinuteOfHour.ZERO)\n                    .setEndMinute(MinuteOfHour.ZERO)\n                    .build());\n\n    // Sets the conversion action ID to the one provided if any.\n    if (conversionActionId != null) {\n      callAssetBuilder\n          .setCallConversionAction(ResourceNames.conversionAction(customerId, conversionActionId))\n          .setCallConversionReportingState(\n              CallConversionReportingState.USE_RESOURCE_LEVEL_CALL_CONVERSION_ACTION);\n    }\n\n    // Creates an asset operation wrapping the call asset in an asset.\n    AssetOperation assetOperation =\n        AssetOperation.newBuilder()\n            .setCreate(Asset.newBuilder().setCallAsset(callAssetBuilder.build()).build())\n            .build();\n\n    // Creates an asset service client.\n    try (AssetServiceClient assetServiceClient =\n        googleAdsClient.getLatestVersion().createAssetServiceClient()) {\n      // Issues a mutate request to add the asset and prints its information.\n      MutateAssetsResponse response =\n          assetServiceClient.mutateAssets(\n              Long.toString(customerId), ImmutableList.of(assetOperation));\n      String createdAssetResourceName = response.getResults(0).getResourceName();\n      System.out.printf(\n          \"Created a call asset with resource name: '%s'.%n\", createdAssetResourceName);\n      return createdAssetResourceName;\n    }\n  }\n\n  /**\n   * Links the call asset at the account level to serve in all eligible campaigns.\n   *\n   * @param googleAdsClient the Google Ads API client.\n   * @param customerId the client customer ID.\n   * @param assetResourceName the resource name of the call asset.\n   */\n  private void linkAssetToAccount(\n      GoogleAdsClient googleAdsClient, long customerId, String assetResourceName) {\n    // Creates a customer asset operation wrapping the call asset in a customer asset.\n    CustomerAssetOperation customerAssetOperation =\n        CustomerAssetOperation.newBuilder()\n            .setCreate(\n                CustomerAsset.newBuilder()\n                    .setAsset(assetResourceName)\n                    .setFieldType(AssetFieldType.CALL)\n                    .build())\n            .build();\n\n    // Creates a CustomerAssetServiceClient.\n    try (CustomerAssetServiceClient customerAssetServiceClient =\n        googleAdsClient.getLatestVersion().createCustomerAssetServiceClient()) {\n      // Issues a mutate request to add the customer asset and prints its information.\n      MutateCustomerAssetsResponse response =\n          customerAssetServiceClient.mutateCustomerAssets(\n              Long.toString(customerId), ImmutableList.of(customerAssetOperation));\n      System.out.printf(\n          \"Created a customer asset with resource name: '%s'.%n\",\n          response.getResults(0).getResourceName());\n    }\n  }\n}\nAddCall.java",
    "// Copyright 2022 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nusing CommandLine;\nusing Google.Ads.Gax.Examples;\nusing Google.Ads.GoogleAds.Lib;\nusing Google.Ads.GoogleAds.V22.Common;\nusing Google.Ads.GoogleAds.V22.Errors;\nusing Google.Ads.GoogleAds.V22.Resources;\nusing Google.Ads.GoogleAds.V22.Services;\nusing System.Linq;\nusing System;\nusing static Google.Ads.GoogleAds.V22.Enums.AssetFieldTypeEnum.Types;\nusing static Google.Ads.GoogleAds.V22.Enums.CallConversionReportingStateEnum.Types;\nusing static Google.Ads.GoogleAds.V22.Enums.MinuteOfHourEnum.Types;\n\nusing SystemDayOfWeek = System.DayOfWeek;\nusing DayOfWeek = Google.Ads.GoogleAds.V22.Enums.DayOfWeekEnum.Types.DayOfWeek;\n\nnamespace Google.Ads.GoogleAds.Examples.V22\n{\n    /// <summary>\n    /// This example adds a call asset to a specific account.\n    /// </summary>\n    public class AddCall : ExampleBase\n    {\n        /// <summary>\n        /// Command line options for running the <see cref=\"AddCall\"/> example.\n        /// </summary>\n        public class Options : OptionsBase\n        {\n            /// <summary>\n            /// The Google Ads customer ID.\n            /// </summary>\n            [Option(\"customerId\", Required = true, HelpText =\n                \"The Google Ads customer ID.\")]\n            public long CustomerId { get; set; }\n\n            /// <summary>\n            /// Optional: The phone number country.\n            ///\n            /// Specifies the phone country code here or the default specified in <see cref=\"Main\"/>\n            /// will be used. See supported codes at:\n            /// https://developers.google.com/google-ads/api/reference/data/codes-formats#expandable-17\n            /// </summary>\n            [Option(\"phoneCountry\", Required = false, HelpText =\n                \"The phone number country.\")]\n            public string PhoneCountry { get; set; }\n\n            /// <summary>\n            /// The phone number itself.\n            /// </summary>\n            [Option(\"phoneNumber\", Required = true, HelpText =\n                \"The phone number itself.\")]\n            public string PhoneNumber { get; set; }\n\n            /// <summary>\n            /// Optional: Specifies the conversion action ID to attribute call conversions to. If not set,\n            /// the default conversion action is used.\n            /// </summary>\n            [Option(\"conversionActionId\", Required = false, HelpText =\n                \"The conversion action ID.\")]\n            public long? ConversionActionId { get; set; }\n        }\n\n        /// <summary>\n        /// Main method, to run this code example as a standalone application.\n        /// </summary>\n        /// <param name=\"args\">The command line arguments.</param>\n        public static void Main(string[] args)\n        {\n            Options options = ExampleUtilities.ParseCommandLine<Options>(args);\n\n            AddCall codeExample = new AddCall();\n            Console.WriteLine(codeExample.Description);\n            codeExample.Run(\n                new GoogleAdsClient(),\n                options.CustomerId,\n                options.PhoneCountry,\n                options.PhoneNumber,\n                options.ConversionActionId\n            );\n        }\n\n        /// <summary>\n        /// Returns a description about the code example.\n        /// </summary>\n        public override string Description =>\n            \"This example adds a call ad to a given ad group.\";\n\n        /// <summary>\n        /// Runs the code example.\n        /// </summary>\n        /// <param name=\"client\">The Google Ads client.</param>\n        /// <param name=\"customerId\">The Google Ads customer ID.</param>\n        /// <param name=\"phoneCountry\">The phone number country.</param>\n        /// <param name=\"phoneNumber\">The phone number itself.</param>\n        /// <param name=\"conversionActionId\">The conversion action ID or null.</param>\n        public void Run(\n            GoogleAdsClient client,\n            long customerId,\n            string phoneCountry,\n            string phoneNumber,\n            long? conversionActionId)\n        {\n            try\n            {\n                // Creates the call asset for the call.\n                string assetResourceName = AddCallAsset(\n                    client,\n                    customerId,\n                    phoneCountry,\n                    phoneNumber,\n                    conversionActionId\n                );\n\n                // Adds the asset at the account level, so these will serve in all eligible\n                // campaigns.\n                LinkAssetToAccount(client, customerId, assetResourceName);\n            }\n            catch (GoogleAdsException e)\n            {\n                Console.WriteLine(\"Failure:\");\n                Console.WriteLine($\"Message: {e.Message}\");\n                Console.WriteLine($\"Failure: {e.Failure}\");\n                Console.WriteLine($\"Request ID: {e.RequestId}\");\n                throw;\n            }\n        }\n\n        /// <summary>\n        /// Creates a new asset for the call.\n        /// </summary>\n        /// <param name=\"client\">The Google Ads client.</param>\n        /// <param name=\"customerId\">The Google Ads customer ID.</param>\n        /// <param name=\"phoneCountry\">The phone number country.</param>\n        /// <param name=\"phoneNumber\">The phone number itself.</param>\n        /// <param name=\"conversionActionId\">The conversion action ID or null.</param>\n        /// <returns>The resource name of the created call asset</returns>\n        private string AddCallAsset(\n            GoogleAdsClient client,\n            long customerId,\n            string phoneCountry,\n            string phoneNumber,\n            long? conversionActionId)\n        {\n            // Creates the call asset.\n            CallAsset callAsset = new CallAsset()\n            {\n                // Sets the country code and phone number of the business to call.\n                CountryCode = phoneCountry,\n                PhoneNumber = phoneNumber,\n\n                // Optional: Specifies all day and time intervals for which the asset may serve.\n                AdScheduleTargets = {\n                    new AdScheduleInfo()\n                    {\n                        // Sets the day of this schedule as Monday.\n                        DayOfWeek = DayOfWeek.Monday,\n\n                        // Sets the start hour to 9am.\n                        StartHour = 9,\n\n                        // Sets the end hour to 5pm.\n                        EndHour = 17,\n\n                        // Sets the start and end minute of zero, for example: 9:00 and 5:00.\n                        StartMinute = MinuteOfHour.Zero,\n                        EndMinute = MinuteOfHour.Zero\n                    }\n                }\n            };\n\n            // Sets the conversion action ID to the one provided if any.\n            if (conversionActionId.HasValue)\n            {\n                callAsset.CallConversionAction =\n                    ResourceNames.ConversionAction(customerId, conversionActionId.Value);\n\n                callAsset.CallConversionReportingState =\n                    CallConversionReportingState.UseResourceLevelCallConversionAction;\n            }\n\n            // Creates an asset operation wrapping the call asset in an asset.\n            AssetOperation assetOperation = new AssetOperation()\n            {\n                Create = new Asset()\n                {\n                    CallAsset = callAsset\n                }\n            };\n\n            AssetServiceClient assetServiceClient =\n                client.GetService(Services.V22.AssetService);\n\n            // Issues a mutate request to add the asset and prints its information.\n            MutateAssetsResponse response = assetServiceClient.MutateAssets(\n                customerId.ToString(),\n                new[] { assetOperation }\n            );\n\n            string createdAssetResourceName = response.Results.First().ResourceName;\n\n            Console.WriteLine(\n                $\"Created a call asset with resource name: '{createdAssetResourceName}'.\"\n            );\n\n            return createdAssetResourceName;\n        }\n\n        /// <summary>\n        /// Links the call asset at the account level to serve in all eligible campaigns.\n        /// </summary>\n        /// <param name=\"client\">The Google Ads client.</param>\n        /// <param name=\"customerId\">The Google Ads customer ID.</param>\n        /// <param name=\"assetResourceName\">The resource name of the call asset.</param>\n        private void LinkAssetToAccount(\n            GoogleAdsClient client,\n            long customerId,\n            string assetResourceName)\n        {\n            // Creates a customer asset operation wrapping the call asset in a customer asset.\n            CustomerAssetOperation customerAssetOperation = new CustomerAssetOperation()\n            {\n                Create = new CustomerAsset()\n                {\n                    Asset = assetResourceName,\n                    FieldType = AssetFieldType.Call\n                }\n            };\n\n            CustomerAssetServiceClient customerAssetServiceClient =\n                client.GetService(Services.V22.CustomerAssetService);\n\n            // Issues a mutate request to add the customer asset and prints its information.\n            MutateCustomerAssetsResponse response = customerAssetServiceClient.MutateCustomerAssets(\n                customerId.ToString(),\n                new[] { customerAssetOperation }\n            );\n\n            string resourceName = response.Results.First().ResourceName;\n\n            Console.WriteLine(\n                $\"Created a customer asset with resource name: '{resourceName}'.\"\n            );\n        }\n    }\n}\nAddCall.cs",
    "<?php\n\n/**\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nnamespace Google\\Ads\\GoogleAds\\Examples\\Extensions;\n\nrequire __DIR__ . '/../../vendor/autoload.php';\n\nuse GetOpt\\GetOpt;\nuse Google\\Ads\\GoogleAds\\Examples\\Utils\\ArgumentNames;\nuse Google\\Ads\\GoogleAds\\Examples\\Utils\\ArgumentParser;\nuse Google\\Ads\\GoogleAds\\Lib\\OAuth2TokenBuilder;\nuse Google\\Ads\\GoogleAds\\Lib\\V22\\GoogleAdsClient;\nuse Google\\Ads\\GoogleAds\\Lib\\V22\\GoogleAdsClientBuilder;\nuse Google\\Ads\\GoogleAds\\Lib\\V22\\GoogleAdsException;\nuse Google\\Ads\\GoogleAds\\Util\\V22\\ResourceNames;\nuse Google\\Ads\\GoogleAds\\V22\\Common\\AdScheduleInfo;\nuse Google\\Ads\\GoogleAds\\V22\\Common\\CallAsset;\nuse Google\\Ads\\GoogleAds\\V22\\Enums\\AssetFieldTypeEnum\\AssetFieldType;\nuse Google\\Ads\\GoogleAds\\V22\\Enums\\CallConversionReportingStateEnum\\CallConversionReportingState;\nuse Google\\Ads\\GoogleAds\\V22\\Enums\\DayOfWeekEnum\\DayOfWeek;\nuse Google\\Ads\\GoogleAds\\V22\\Enums\\MinuteOfHourEnum\\MinuteOfHour;\nuse Google\\Ads\\GoogleAds\\V22\\Errors\\GoogleAdsError;\nuse Google\\Ads\\GoogleAds\\V22\\Resources\\Asset;\nuse Google\\Ads\\GoogleAds\\V22\\Resources\\CustomerAsset;\nuse Google\\Ads\\GoogleAds\\V22\\Services\\AssetOperation;\nuse Google\\Ads\\GoogleAds\\V22\\Services\\CustomerAssetOperation;\nuse Google\\Ads\\GoogleAds\\V22\\Services\\MutateAssetsRequest;\nuse Google\\Ads\\GoogleAds\\V22\\Services\\MutateCustomerAssetsRequest;\nuse Google\\ApiCore\\ApiException;\n\n/**\n * This example adds a call asset to a specific account.\n */\nclass AddCall\n{\n    private const CUSTOMER_ID = 'INSERT_CUSTOMER_ID_HERE';\n    // Specifies the phone country code here or the default specified below will be used.\n    // See supported codes at:\n    // https://developers.google.com/google-ads/api/reference/data/codes-formats#expandable-17\n    private const PHONE_COUNTRY = 'US';\n    private const PHONE_NUMBER = 'INSERT_PHONE_NUMBER_HERE';\n    // Optional: Specifies the conversion action ID to attribute call conversions to. If not set,\n    // the default conversion action is used.\n    private const CONVERSION_ACTION_ID = null;\n\n    public static function main()\n    {\n        // Either pass the required parameters for this example on the command line, or insert them\n        // into the constants above.\n        $options = (new ArgumentParser())->parseCommandArguments([\n            ArgumentNames::CUSTOMER_ID => GetOpt::REQUIRED_ARGUMENT,\n            ArgumentNames::PHONE_COUNTRY => GetOpt::OPTIONAL_ARGUMENT,\n            ArgumentNames::PHONE_NUMBER => GetOpt::REQUIRED_ARGUMENT,\n            ArgumentNames::CONVERSION_ACTION_ID => GetOpt::OPTIONAL_ARGUMENT\n        ]);\n\n        // Generate a refreshable OAuth2 credential for authentication.\n        $oAuth2Credential = (new OAuth2TokenBuilder())->fromFile()->build();\n\n        // Construct a Google Ads client configured from a properties file and the\n        // OAuth2 credentials above.\n        $googleAdsClient = (new GoogleAdsClientBuilder())->fromFile()\n            ->withOAuth2Credential($oAuth2Credential)\n            ->build();\n\n        try {\n            self::runExample(\n                $googleAdsClient,\n                $options[ArgumentNames::CUSTOMER_ID] ?: self::CUSTOMER_ID,\n                $options[ArgumentNames::PHONE_COUNTRY] ?: self::PHONE_COUNTRY,\n                $options[ArgumentNames::PHONE_NUMBER] ?: self::PHONE_NUMBER,\n                $options[ArgumentNames::CONVERSION_ACTION_ID] ?: self::CONVERSION_ACTION_ID\n            );\n        } catch (GoogleAdsException $googleAdsException) {\n            printf(\n                \"Request with ID '%s' has failed.%sGoogle Ads failure details:%s\",\n                $googleAdsException->getRequestId(),\n                PHP_EOL,\n                PHP_EOL\n            );\n            foreach ($googleAdsException->getGoogleAdsFailure()->getErrors() as $error) {\n                /** @var GoogleAdsError $error */\n                printf(\n                    \"\\t%s: %s%s\",\n                    $error->getErrorCode()->getErrorCode(),\n                    $error->getMessage(),\n                    PHP_EOL\n                );\n            }\n            exit(1);\n        } catch (ApiException $apiException) {\n            printf(\n                \"ApiException was thrown with message '%s'.%s\",\n                $apiException->getMessage(),\n                PHP_EOL\n            );\n            exit(1);\n        }\n    }\n\n    /**\n     * Runs the example.\n     *\n     * @param GoogleAdsClient $googleAdsClient the Google Ads API client\n     * @param int $customerId the client customer ID\n     * @param string $phoneCountry the phone country (2-letter code)\n     * @param string $phoneNumber the raw phone number, e.g. '(800) 555-0100'\n     * @param int|null $conversionActionId the conversion action ID to attribute conversions to\n     */\n    public static function runExample(\n        GoogleAdsClient $googleAdsClient,\n        int $customerId,\n        string $phoneCountry,\n        string $phoneNumber,\n        ?int $conversionActionId\n    ) {\n        // Creates the asset for the call assets.\n        $assetResourceName = self::addCallAsset(\n            $googleAdsClient,\n            $customerId,\n            $phoneCountry,\n            $phoneNumber,\n            $conversionActionId\n        );\n\n        // Adds the assets at the account level, so these will serve in all eligible campaigns.\n        self::linkAssetToAccount($googleAdsClient, $customerId, $assetResourceName);\n    }\n\n    /**\n     * Creates a new asset for the call.\n     *\n     * @param GoogleAdsClient $googleAdsClient the Google Ads API client\n     * @param int $customerId the client customer ID\n     * @param string $phoneCountry the phone country (2-letter code)\n     * @param string $phoneNumber the raw phone number, e.g. '(800) 555-0100'\n     * @param int|null $conversionActionId the conversion action ID to attribute conversions to\n     * @return string the resource name of the created call asset\n     */\n    private static function addCallAsset(\n        GoogleAdsClient $googleAdsClient,\n        int $customerId,\n        string $phoneCountry,\n        string $phoneNumber,\n        ?int $conversionActionId\n    ): string {\n        // Creates the call asset.\n        $callAsset = new CallAsset([\n            // Sets the country code and phone number of the business to call.\n            'country_code' => $phoneCountry,\n            'phone_number' => $phoneNumber,\n            // Optional: Specifies all day and time intervals for which the asset may serve.\n            'ad_schedule_targets' => [new AdScheduleInfo([\n                // Sets the day of this schedule as Monday.\n                'day_of_week' => DayOfWeek::MONDAY,\n                // Sets the start hour to 9am.\n                'start_hour' => 9,\n                // Sets the end hour to 5pm.\n                'end_hour' => 17,\n                // Sets the start and end minute of zero, for example: 9:00 and 5:00.\n                'start_minute' => MinuteOfHour::ZERO,\n                'end_minute' => MinuteOfHour::ZERO\n            ])]\n        ]);\n\n        // Sets the conversion action ID to the one provided if any.\n        if (!is_null($conversionActionId)) {\n            $callAsset->setCallConversionAction(\n                ResourceNames::forConversionAction($customerId, $conversionActionId)\n            );\n            $callAsset->setCallConversionReportingState(\n                CallConversionReportingState::USE_RESOURCE_LEVEL_CALL_CONVERSION_ACTION\n            );\n        }\n\n        // Creates an asset operation wrapping the call asset in an asset.\n        $assetOperation = new AssetOperation();\n        $assetOperation->setCreate(new Asset(['call_asset' => $callAsset]));\n\n        // Issues a mutate request to add the asset and prints its information.\n        $assetServiceClient = $googleAdsClient->getAssetServiceClient();\n        $response = $assetServiceClient->mutateAssets(\n            MutateAssetsRequest::build($customerId, [$assetOperation])\n        );\n        $createdAssetResourceName = $response->getResults()[0]->getResourceName();\n        printf(\n            \"Created a call asset with resource name: '%s'.%s\",\n            $createdAssetResourceName,\n            PHP_EOL\n        );\n\n        return $createdAssetResourceName;\n    }\n\n    /**\n     * Links the call asset at the account level to serve in all eligible campaigns.\n     *\n     * @param GoogleAdsClient $googleAdsClient the Google Ads API client\n     * @param int $customerId the client customer ID\n     * @param string $assetResourceName the resource name of the call asset\n     */\n    private static function linkAssetToAccount(\n        GoogleAdsClient $googleAdsClient,\n        int $customerId,\n        string $assetResourceName\n    ): void {\n        // Creates a customer asset operation wrapping the call asset in a customer asset.\n        $customerAssetOperation = new CustomerAssetOperation();\n        $customerAssetOperation->setCreate(new CustomerAsset([\n            'asset' => $assetResourceName,\n            'field_type' => AssetFieldType::CALL\n        ]));\n\n        // Issues a mutate request to add the customer asset and prints its information.\n        $customerAssetServiceClient = $googleAdsClient->getCustomerAssetServiceClient();\n        $response = $customerAssetServiceClient->mutateCustomerAssets(\n            MutateCustomerAssetsRequest::build($customerId, [$customerAssetOperation])\n        );\n        printf(\n            \"Created a customer asset with resource name: '%s'.%s\",\n            $response->getResults()[0]->getResourceName(),\n            PHP_EOL\n        );\n    }\n}\n\nAddCall::main();\nAddCall.php",
    "#!/usr/bin/env python\n# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n\"\"\"This example adds a call asset to a specific account.\"\"\"\n\n\nimport argparse\nfrom typing import Optional\nimport sys\n\nfrom google.ads.googleads.client import GoogleAdsClient\nfrom google.ads.googleads.errors import GoogleAdsException\nfrom google.ads.googleads.v22.services.types.asset_service import AssetOperation\nfrom google.ads.googleads.v22.resources.types.asset import Asset\nfrom google.ads.googleads.v22.common.types.criteria import AdScheduleInfo\nfrom google.ads.googleads.v22.services.types.customer_asset_service import (\n    CustomerAssetOperation,\n)\nfrom google.ads.googleads.v22.resources.types.customer_asset import (\n    CustomerAsset,\n)\n\n# Country code is a two-letter ISO-3166 code, for a list of all codes see:\n# https://developers.google.com/google-ads/api/reference/data/codes-formats#expandable-17\n_DEFAULT_PHONE_COUNTRY: str = \"US\"\n\n\ndef main(\n    client: GoogleAdsClient,\n    customer_id: str,\n    phone_number: str,\n    phone_country: str,\n    conversion_action_id: Optional[str],\n) -> None:\n    \"\"\"The main method that creates all necessary entities for the example.\n\n    Args:\n        client: an initialized GoogleAdsClient instance.\n        customer_id: a client customer ID.\n        phone_number: a phone number for your business, e.g. '(800) 555-0100'.\n        phone_country: a two-letter ISO-3166 code.\n        conversion_action_id: an ID for a conversion action.\n    \"\"\"\n    asset_resource_name: str = add_call_asset(\n        client, customer_id, phone_number, phone_country, conversion_action_id\n    )\n    link_asset_to_account(client, customer_id, asset_resource_name)\n\n\ndef add_call_asset(\n    client: GoogleAdsClient,\n    customer_id: str,\n    phone_number: str,\n    phone_country: str,\n    conversion_action_id: Optional[str],\n) -> str:\n    \"\"\"Creates a new asset for the call.\n\n    Args:\n        client: an initialized GoogleAdsClient instance.\n        customer_id: a client customer ID.\n        phone_number: a phone number for your business, e.g. '(800) 555-0100'.\n        phone_country: a two-letter ISO-3166 code.\n        conversion_action_id: an ID for a conversion action.\n\n    Returns:\n        a resource name for a new call asset.\n    \"\"\"\n    operation: AssetOperation = client.get_type(\"AssetOperation\")\n    # Creates the call asset.\n    asset: Asset = operation.create.call_asset\n    asset.country_code = phone_country\n    asset.phone_number = phone_number\n    # Optional: Specifies day and time intervals for which the asset may serve.\n    ad_schedule: AdScheduleInfo = client.get_type(\"AdScheduleInfo\")\n    # Sets the day of this schedule as Monday.\n    ad_schedule.day_of_week = client.enums.DayOfWeekEnum.MONDAY\n    # Sets the start hour to 9am.\n    ad_schedule.start_hour = 9\n    # Sets the end hour to 5pm.\n    ad_schedule.end_hour = 17\n    # Sets the start and end minute of zero, for example: 9:00 and 5:00.\n    ad_schedule.start_minute = client.enums.MinuteOfHourEnum.ZERO\n    ad_schedule.end_minute = client.enums.MinuteOfHourEnum.ZERO\n    # Appends the ad schedule to the list of ad schedule targets on the asset.\n    asset.ad_schedule_targets.append(ad_schedule)\n\n    # Sets the conversion action ID if provided.\n    if conversion_action_id:\n        googleads_service = client.get_service(\"GoogleAdsService\")\n        asset.call_conversion_action = googleads_service.conversion_action_path(\n            customer_id, conversion_action_id\n        )\n        asset.call_conversion_reporting_state = (\n            client.enums.CallConversionReportingStateEnum.USE_RESOURCE_LEVEL_CALL_CONVERSION_ACTION\n        )\n\n    # Issues a mutate request to add the asset.\n    asset_service = client.get_service(\"AssetService\")\n    response = asset_service.mutate_assets(\n        customer_id=customer_id, operations=[operation]\n    )\n    resource_name: str = response.results[0].resource_name\n    print(f\"Created a call asset with resource name: '{resource_name}'\")\n\n    return resource_name\n\n\ndef link_asset_to_account(\n    client: GoogleAdsClient, customer_id: str, asset_resource_name: str\n) -> None:\n    \"\"\"Links the call asset at the account level to serve in eligible campaigns.\n\n    Args:\n        client: an initialized GoogleAdsClient instance.\n        customer_id: a client customer ID.\n        asset_resource_name: a resource name for the call asset.\n    \"\"\"\n    operation: CustomerAssetOperation = client.get_type(\n        \"CustomerAssetOperation\"\n    )\n    customer_asset: CustomerAsset = operation.create\n    customer_asset.asset = asset_resource_name\n    customer_asset.field_type = client.enums.AssetFieldTypeEnum.CALL\n\n    customer_asset_service = client.get_service(\"CustomerAssetService\")\n    response = customer_asset_service.mutate_customer_assets(\n        customer_id=customer_id, operations=[operation]\n    )\n    resource_name: str = response.results[0].resource_name\n    print(f\"Created a customer asset with resource name: '{resource_name}'\")\n\n\nif __name__ == \"__main__\":\n    parser: argparse.ArgumentParser = argparse.ArgumentParser(\n        description=(\"Adds a call asset to a specific account.\")\n    )\n    # The following argument(s) should be provided to run the example.\n    parser.add_argument(\n        \"-c\",\n        \"--customer_id\",\n        type=str,\n        required=True,\n        help=\"The Google Ads customer ID.\",\n    )\n    parser.add_argument(\n        \"-n\",\n        \"--phone_number\",\n        type=str,\n        required=True,\n        help=(\"A phone number for your business, e.g. '(800) 555-0100'\"),\n    )\n    parser.add_argument(\n        \"-p\",\n        \"--phone_country\",\n        type=str,\n        default=_DEFAULT_PHONE_COUNTRY,\n        help=(\n            \"A two-letter ISO-3166 code representing a country code, for a \"\n            \"list of all codes see: \"\n            \"https://developers.google.com/google-ads/api/reference/data/codes-formats#expandable-17\"\n        ),\n    )\n    parser.add_argument(\n        \"-v\",\n        \"--conversion_action_id\",\n        type=str,\n        help=(\"An optional conversion action ID to attribute conversions to.\"),\n    )\n\n    args: argparse.Namespace = parser.parse_args()\n\n    # GoogleAdsClient will read the google-ads.yaml configuration file in the\n    # home directory if none is specified.\n    googleads_client: GoogleAdsClient = GoogleAdsClient.load_from_storage(\n        version=\"v22\"\n    )\n\n    try:\n        main(\n            googleads_client,\n            args.customer_id,\n            args.phone_number,\n            args.phone_country,\n            args.conversion_action_id,\n        )\n    except GoogleAdsException as ex:\n        print(\n            f'Request with ID \"{ex.request_id}\" failed with status '\n            f'\"{ex.error.code().name}\" and includes the following errors:'\n        )\n        for error in ex.failure.errors:\n            print(f'Error with message \"{error.message}\".')\n            if error.location:\n                for field_path_element in error.location.field_path_elements:\n                    print(f\"\\t\\tOn field: {field_path_element.field_name}\")\n        sys.exit(1)\nadd_call.py",
    "#!/usr/bin/env ruby\n# Encoding: utf-8\n#\n# Copyright 2022 Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     https://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n# This example adds a call asset to a specific account.\n\nrequire 'date'\nrequire 'google/ads/google_ads'\nrequire 'optparse'\n\ndef add_call(customer_id,\n    phone_number,\n    phone_country,\n    conversion_action_id)\n  # GoogleAdsClient will read a config file from\n  # ENV['HOME']/google_ads_config.rb when called without parameters\n  client = Google::Ads::GoogleAds::GoogleAdsClient.new\n\n  asset_resource_name = add_call_asset(client,\n    customer_id,\n    phone_number,\n    phone_country,\n    conversion_action_id)\n  link_asset_to_account(client, customer_id, asset_resource_name)\nend\n\ndef add_call_asset(client,\n    customer_id,\n    phone_number,\n    phone_country,\n    conversion_action_id)\n  # Creates the call asset.\n  operation = client.operation.create_resource.asset do |asset|\n    asset.type = :CALL\n    asset.call_asset = client.resource.call_asset do |ca|\n      ca.country_code = phone_country\n      ca.phone_number = phone_number\n      # Optional: Specifies day and time intervals for which the asset may serve.\n      ad_schedule = client.resource.ad_schedule_info do |as|\n        # Sets the day of this schedule as Monday.\n        as.day_of_week = :MONDAY\n        # Sets the start hour to 9am.\n        as.start_hour = 9\n        # Sets the end hour to 5pm.\n        as.end_hour = 17\n        # Sets the start and end minute of zero, for example: 9:00 and 5:00.\n        as.start_minute = :ZERO\n        as.end_minute = :ZERO\n      end\n      # Appends the ad schedule to the list of ad schedule targets on the asset.\n      ca.ad_schedule_targets << ad_schedule\n\n      # Sets the conversion action ID if provided.\n      if conversion_action_id\n        ca.call_conversion_action = client.path.\n          conversion_action(customer_id, conversion_action_id)\n        ca.call_conversion_reporting_state = :USE_RESOURCE_LEVEL_CALL_CONVERSION_ACTION\n      end\n    end\n  end\n\n  # Issues a mutate request to add the asset.\n  response = client.service.asset.mutate_assets(\n    customer_id: customer_id,\n    operations: [operation],\n  )\n  resource_name = response.results.first.resource_name\n  puts \"Created a call asset with resource name: '#{resource_name}'\"\n\n  resource_name\nend\n\n\ndef link_asset_to_account(client, customer_id, asset_resource_name)\n  operation = client.operation.create_resource.customer_asset do |ca|\n    ca.asset = asset_resource_name\n    ca.field_type = :CALL\n  end\n\n  response = client.service.customer_asset.mutate_customer_assets(\n    customer_id: customer_id,\n    operations: [operation],\n  )\n  resource_name = response.results.first.resource_name\n  puts \"Created a customer asset with resource name: '#{resource_name}'\"\nend\n\nif __FILE__ == $0\n  options = {}\n  # The following parameter(s) should be provided to run the example. You can\n  # either specify these by changing the INSERT_XXX_ID_HERE values below, or on\n  # the command line.\n  #\n  # Parameters passed on the command line will override any parameters set in\n  # code.\n  #\n  # Running the example with -h will print the command line usage.\n  options[:customer_id] = 'INSERT_CUSTOMER_ID_HERE'\n  options[:phone_number] = 'INSERT_PHONE_NUMBER_HERE'\n\n  OptionParser.new do |opts|\n    opts.banner = sprintf('Usage: %s [options]', File.basename(__FILE__))\n\n    opts.separator ''\n    opts.separator 'Options:'\n\n    opts.on('-C', '--customer-id CUSTOMER-ID', String, 'The Google Ads customer ID.') do |v|\n      options[:customer_id] = v\n    end\n\n    opts.on('-N', '--phone-number PHONE-NUMBER', String,\n        \"A phone number for your business, e.g. '(800) 555-0100'\") do |v|\n      options[:phone_number] = v\n    end\n\n    opts.on('-P', '--phone-country PHONE-COUNTRY', String,\n        'A two-letter ISO-3166 code representing a country code, for a ' \\\n        'list of all codes see: ' \\\n        'https://developers.google.com/google-ads/api/reference/data/codes-formats#expandable-17') do |v|\n      options[:phone_country] = v\n    end\n\n    opts.on('-V', '--conversion-action-id CONVERSION-ACTION-ID', String,\n      'Specifies the conversion action ID to attribute call conversions to. ' \\\n      'If not set, the default conversion action is used.') do |v|\n      options[:conversion_action_id] = v\n    end\n\n    opts.separator ''\n    opts.separator 'Help:'\n\n    opts.on_tail('-h', '--help', 'Show this message') do\n      puts opts\n      exit\n    end\n  end.parse!\n\n  begin\n    add_call(\n      options.fetch(:customer_id).tr(\"-\", \"\"),\n      options[:phone_number],\n      options.fetch(:phone_country, 'US'),\n      options[:conversion_action_id],\n    )\n  rescue Google::Ads::GoogleAds::Errors::GoogleAdsError => e\n    e.failure.errors.each do |error|\n      STDERR.printf(\"Error with message: %s\\n\", error.message)\n      if error.location\n        error.location.field_path_elements.each do |field_path_element|\n          STDERR.printf(\"\\tOn field: %s\\n\", field_path_element.field_name)\n        end\n      end\n      error.error_code.to_h.each do |k, v|\n        next if v == :UNSPECIFIED\n        STDERR.printf(\"\\tType: %s\\n\\tCode: %s\\n\", k, v)\n      end\n    end\n    raise\n  end\nend\nadd_call.rb",
    "#!/usr/bin/perl -w\n#\n# Copyright 2022, Google LLC\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#     http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n# This example adds a call asset to a specific account.\n\nuse strict;\nuse warnings;\nuse utf8;\n\nuse FindBin qw($Bin);\nuse lib \"$Bin/../../lib\";\nuse Google::Ads::GoogleAds::Client;\nuse Google::Ads::GoogleAds::Utils::GoogleAdsHelper;\nuse Google::Ads::GoogleAds::V22::Resources::Asset;\nuse Google::Ads::GoogleAds::V22::Resources::CustomerAsset;\nuse Google::Ads::GoogleAds::V22::Common::CallAsset;\nuse Google::Ads::GoogleAds::V22::Common::AdScheduleInfo;\nuse Google::Ads::GoogleAds::V22::Enums::DayOfWeekEnum    qw(MONDAY);\nuse Google::Ads::GoogleAds::V22::Enums::MinuteOfHourEnum qw(ZERO);\nuse Google::Ads::GoogleAds::V22::Enums::CallConversionReportingStateEnum\n  qw(USE_RESOURCE_LEVEL_CALL_CONVERSION_ACTION);\nuse Google::Ads::GoogleAds::V22::Enums::AssetFieldTypeEnum qw(CALL);\nuse Google::Ads::GoogleAds::V22::Services::AssetService::AssetOperation;\nuse\n  Google::Ads::GoogleAds::V22::Services::CustomerAssetService::CustomerAssetOperation;\nuse Google::Ads::GoogleAds::V22::Utils::ResourceNames;\n\nuse Getopt::Long qw(:config auto_help);\nuse Pod::Usage;\nuse Cwd qw(abs_path);\n\n# The following parameter(s) should be provided to run the example. You can\n# either specify these by changing the INSERT_XXX_ID_HERE values below, or on\n# the command line.\n#\n# Parameters passed on the command line will override any parameters set in\n# code.\n#\n# Running the example with -h will print the command line usage.\nmy $customer_id = \"INSERT_CUSTOMER_ID_HERE\";\n# Specify the phone country code here or the default specified below will be used.\n# See supported codes at:\n# https://developers.google.com/google-ads/api/reference/data/codes-formats#expandable-17\nmy $phone_country = \"US\";\nmy $phone_number  = \"INSERT_PHONE_NUMBER_HERE\";\n# Optional: Specify the conversion action ID to attribute call conversions to.\n# If not set, the default conversion action is used.\nmy $conversion_action_id = undef;\n\nsub add_call {\n  my ($api_client, $customer_id, $phone_country, $phone_number,\n    $conversion_action_id)\n    = @_;\n\n  # Create the call asset.\n  my $asset_resource_name =\n    add_call_asset($api_client, $customer_id, $phone_country,\n    $phone_number, $conversion_action_id);\n\n  # Add the assets at the account level, so these will serve in all eligible campaigns.\n  link_asset_to_account($api_client, $customer_id, $asset_resource_name);\n\n  return 1;\n}\n\n# Creates a new asset for the call.\nsub add_call_asset {\n  my ($api_client, $customer_id, $phone_country,\n    $phone_number, $conversion_action_id)\n    = @_;\n\n  # Create the call asset.\n  my $call_asset = Google::Ads::GoogleAds::V22::Common::CallAsset->new({\n      # Set the country code and phone number of the business to call.\n      countryCode => $phone_country,\n      phoneNumber => $phone_number,\n      # Optional: Specify all day and time intervals for which the asset may serve.\n      adScheduleTargets => [\n        Google::Ads::GoogleAds::V22::Common::AdScheduleInfo->new({\n            # Set the day of this schedule as Monday.\n            dayOfWeek => MONDAY,\n            # Set the start hour to 9am.\n            startHour => 9,\n            # Set the end hour to 5pm.\n            endHour => 17,\n            # Set the start and end minute of zero, for example: 9:00 and 5:00.\n            startMinute => ZERO,\n            endMinute   => ZERO\n          })]});\n\n  # Set the conversion action ID to the one provided if any.\n  if (defined $conversion_action_id) {\n    $call_asset->{callConversionAction} =\n      Google::Ads::GoogleAds::V22::Utils::ResourceNames::conversion_action(\n      $customer_id, $conversion_action_id);\n    $call_asset->{callConversionReportingState} =\n      USE_RESOURCE_LEVEL_CALL_CONVERSION_ACTION;\n  }\n\n  # Create an asset operation wrapping the call asset in an asset.\n  my $asset_operation =\n    Google::Ads::GoogleAds::V22::Services::AssetService::AssetOperation->new({\n      create => Google::Ads::GoogleAds::V22::Resources::Asset->new({\n          callAsset => $call_asset\n        })});\n\n  # Issue a mutate request to add the asset and print its information.\n  my $response = $api_client->AssetService()->mutate({\n      customerId => $customer_id,\n      operations => [$asset_operation]});\n  my $resource_name = $response->{results}[0]{resourceName};\n  printf \"Created a call asset with resource name: '%s'.\\n\", $resource_name;\n  return $resource_name;\n}\n\n# Links the call asset at the account level to serve in all eligible campaigns.\nsub link_asset_to_account {\n  my ($api_client, $customer_id, $asset_resource_name) = @_;\n\n  # Create a customer asset operation wrapping the call asset in a customer asset.\n  my $customer_asset_operation =\n    Google::Ads::GoogleAds::V22::Services::CustomerAssetService::CustomerAssetOperation\n    ->new({\n      create => Google::Ads::GoogleAds::V22::Resources::CustomerAsset->new({\n          asset     => $asset_resource_name,\n          fieldType => CALL\n        })});\n\n  # Issue a mutate request to add the customer asset and print its information.\n  my $response = $api_client->CustomerAssetService()->mutate({\n      customerId => $customer_id,\n      operations => [$customer_asset_operation]});\n  printf \"Created a customer asset with resource name: '%s'.\\n\",\n    $response->{results}[0]{resourceName};\n}\n\n# Don't run the example if the file is being included.\nif (abs_path($0) ne abs_path(__FILE__)) {\n  return 1;\n}\n\n# Get Google Ads Client, credentials will be read from ~/googleads.properties.\nmy $api_client = Google::Ads::GoogleAds::Client->new();\n\n# By default examples are set to die on any server returned fault.\n$api_client->set_die_on_faults(1);\n\n# Parameters passed on the command line will override any parameters set in code.\nGetOptions(\n  \"customer_id=s\"          => \\$customer_id,\n  \"phone_country=s\"        => \\$phone_country,\n  \"phone_number=s\"         => \\$phone_number,\n  \"conversion_action_id=i\" => \\$conversion_action_id\n);\n\n# Print the help message if the parameters are not initialized in the code nor\n# in the command line.\npod2usage(2) if not check_params($customer_id, $phone_country, $phone_number);\n\n# Call the example.\nadd_call($api_client, $customer_id =~ s/-//gr,\n  $phone_country, $phone_number, $conversion_action_id);\n\n=pod\n\n=head1 NAME\n\nadd_call\n\n=head1 DESCRIPTION\n\nThis example adds a call asset to a specific account.\n\n=head1 SYNOPSIS\n\nadd_call.pl [options]\n\n    -help                       Show the help message.\n    -customer_id                The Google Ads customer ID.\n    -phone_country              [optional] The phone country (2-letter code).\n    -phone_number               The raw phone number, e.g. \"(800) 555-0100\".\n    -conversion_action_id       [optional] The conversion action ID to attribute conversions to.\n\n=cut\nadd_call.pl"
  ],
  "tables": [],
  "mainText": "To discuss and provide feedback on our products, join the official Google Ads Discord channel in the Google Advertising and Measurement Community server.\n        \n      \n    \n  \n  \n  \n\n  \n    \n    \n    \n  \n  \n    \n    \n    \n      \n  \n    \n        Home\n      \n  \n  \n    \n  \n  \n  \n    \n      \n      \n    \n    \n    \n      \n  \n    \n        Products\n      \n  \n  \n    \n  \n  \n  \n    \n      \n      \n    \n    \n    \n      \n  \n    \n        Google Ads API\n      \n  \n  \n    \n  \n  \n  \n    \n      \n      \n    \n    \n    \n      \n  \n    \n        Google Ads API\n      \n  \n  \n    \n  \n  \n  \n    \n      \n      \n    \n    \n    \n      \n  \n    \n        Libraries and samples\n      \n  \n  \n    \n  \n  \n\n    \n      \n    \n    \n  \n    \n  \n  \n    \n      Add Call\n\n    \n    \n      \n    \n\n    \n      \n      Stay organized with collections\n    \n    \n      \n      Save and categorize content based on your preferences.\n    \n  \n    \n  \n      \n    \n  \n  \n\n  \n  \n  \n    \n    \n    \n  \n\n  \n    \n      \n  \n    \n    \n    \n    AI-generated Key Takeaways\n    \n  \n  \n    \n      \n        outlined_flag\n      \n    \n    \n      \n        \n          The code demonstrates how to create a call asset and link it to a Google Ads account.\n\n        \n      \n        \n          It covers specifying the phone country code, phone number, and optionally a conversion action ID for tracking.\n\n        \n      \n        \n          The example also shows how to set an ad schedule for the call asset.\n\n        \n      \n        \n          The final step links the created call asset at the account level, allowing it to serve across eligible campaigns.\n\n        \n      \n    \n  \n\n    \n    \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n  \n  \n  \n    \n  \n  \n  \n  \n  \n  \n\n  \n  \n    \n    \n    \n      \n      \n        \n      \n    \n      \n        \n      \n      \n        \n      \n        \n      \n    \n    \n      \n      \n      \n        \n          \n        \n        \n      \n        \n          \n        \n        \n      \n      \n    \n  \n\n  \n  \n\n  \n  \n    \n    \n  \n\n  \n  \n  \n\n  \n  \n\n  Java\n  \n  \n    \n      \n        // Copyright 2022 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\npackage com.google.ads.googleads.examples.assets;\n\nimport com.beust.jcommander.Parameter;\nimport com.google.ads.googleads.examples.utils.ArgumentNames;\nimport com.google.ads.googleads.examples.utils.CodeSampleParams;\nimport com.google.ads.googleads.lib.GoogleAdsClient;\nimport com.google.ads.googleads.v22.common.AdScheduleInfo;\nimport com.google.ads.googleads.v22.common.CallAsset;\nimport com.google.ads.googleads.v22.enums.AssetFieldTypeEnum.AssetFieldType;\nimport com.google.ads.googleads.v22.enums.CallConversionReportingStateEnum.CallConversionReportingState;\nimport com.google.ads.googleads.v22.enums.DayOfWeekEnum.DayOfWeek;\nimport com.google.ads.googleads.v22.enums.MinuteOfHourEnum.MinuteOfHour;\nimport com.google.ads.googleads.v22.errors.GoogleAdsError;\nimport com.google.ads.googleads.v22.errors.GoogleAdsException;\nimport com.google.ads.googleads.v22.resources.Asset;\nimport com.google.ads.googleads.v22.resources.CustomerAsset;\nimport com.google.ads.googleads.v22.services.AssetOperation;\nimport com.google.ads.googleads.v22.services.AssetServiceClient;\nimport com.google.ads.googleads.v22.services.CustomerAssetOperation;\nimport com.google.ads.googleads.v22.services.CustomerAssetServiceClient;\nimport com.google.ads.googleads.v22.services.MutateAssetsResponse;\nimport com.google.ads.googleads.v22.services.MutateCustomerAssetsResponse;\nimport com.google.ads.googleads.v22.utils.ResourceNames;\nimport com.google.common.collect.ImmutableList;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\n\n/** This example adds a call asset to a specific account. */\npublic class AddCall {\n  private static class AddCallParams extends CodeSampleParams {\n\n    @Parameter(names = ArgumentNames.CUSTOMER_ID, required = true)\n    private Long customerId;\n\n    // Specifies the phone country code here or the default specified below will be used.\n    // See supported codes at:\n    // https://developers.google.com/google-ads/api/reference/data/codes-formats#expandable-17\n    @Parameter(names = ArgumentNames.PHONE_COUNTRY, required = true)\n    private String phoneCountry = \"US\";\n\n    @Parameter(names = ArgumentNames.PHONE_NUMBER, required = true)\n    private String phoneNumber;\n\n    // Optional: Specifies the conversion action ID to attribute call conversions to. If not set,\n    // the default conversion action is used.\n  ",
  "fetchedAt": "2025-10-30T08:43:22.209Z"
}