# ü§ñ Claude Desktop MCP Guide: End-to-End Google Ads Automation

## ‚ö†Ô∏è CRITICAL: Full Automation Philosophy

**This project is designed for COMPLETE END-TO-END automation via Claude Desktop and MCP.**

**DO NOT:**
- ‚ùå Recommend manual CSV downloads
- ‚ùå Suggest manual uploads to Google Ads UI
- ‚ùå Ask for manual intervention in the Google Ads interface
- ‚ùå Recommend "exporting" or "downloading" data for manual processing

**ALWAYS:**
- ‚úÖ Use MCP tools (GAds_Universal_Write_API, GAds_Universal_Query_API) for ALL operations
- ‚úÖ Create, modify, and manage ALL Google Ads entities programmatically
- ‚úÖ Query data via GAds_Universal_Query_API for analysis
- ‚úÖ Complete entire workflows within Claude Desktop

**The goal is for Claude to directly manage Google Ads campaigns from start to finish using only API calls.**

---

## üéØ PROJECT CONTEXT: ULearn English School Google Ads Manager

  Business Model:

  - Target Audience: 18-35 year olds from affluent areas, non-English speakers
  - Primary Markets: LATAM (Work & Study programs), EU, other territories
  - Key Programs: IELTS prep, Business English, General English, Work & Study
  - Location: Dublin, Ireland
  - Competitors: Delfin School, Atlas, ISI, SEDA, ELI, CES (EEI schools)

  System Architecture:

  Google Ads ‚Üí MySQL ‚Üê HubSpot
                  ‚Üì
          Analytics Dashboards
                  ‚Üì
             MCP Server
                  ‚Üì
          Claude Desktop

  Pipeline Flow:

  Ad Click ‚Üí MQL ‚Üí Territory Validation ‚Üí SQL ‚Üí Pipeline Stages ‚Üí Won
                         ‚Üì
                  Unsupported Territory
                      (Burn Rate)

  ---
  üîß YOUR MCP SERVER CONFIGURATION

  MCP Endpoint: https://hub.ulearnschool.com/gads/mcpAuth: Bearer token ulearn-mcp-20250901-5f1709520f2f5cf0

  Available Tools:

  Google Ads API Tools (Direct Live Access):

  1. GAds_Account_API - Account settings, conversion actions
  2. GAds_Campaign_API - Comprehensive campaign analysis
  3. GAds_Audience_API - Audience segments, demographics, targeting
  4. GAds_Universal_Query_API - READ-ONLY GAQL queries (SAFE)
  5. GAds_Universal_Write_API - CREATE/UPDATE/DELETE operations (DANGEROUS)
  6. GAds_Keyword_Ideas_API - Keyword planner
  7. GAds_Keyword_Research_API - Comprehensive keyword research

  MySQL Historical Data Tools:

  1. Summary_MySql - Dashboard with MQLs, SQLs, deals, revenue
  2. Campaign_MySql - Campaign performance with conversion rates
  3. Pipeline_MySql - MQL‚ÜíSQL pipeline analysis
  4. Burn_MySql - Territory burn rate analysis
  5. Territory_MySql - Supported vs unsupported territories
  6. Budget_MySql - Budget & ROI analysis

  ---
  üìù HOW TO PROMPT CLAUDE DESKTOP TO CREATE ADGROUPS

  ‚úÖ RECOMMENDED: Complete Workflow Prompt - an Example:

  Hi Claude! I need to create new ad groups in my ULearn English School Google Ads account.

  CONTEXT:
  - MCP Server: ulearn-gads (already connected)
  - Business: English language school in Dublin targeting 18-35 year olds
  - Target markets: LATAM (Work & Study), EU, other international students

  STEP 1 - DISCOVERY:
  Use the GAds_Campaign_API tool to show me all my active campaigns with their IDs and current structure.

  STEP 2 - PLAN:
  Based on the campaign structure, I want to create 3 new ad groups for [CAMPAIGN_NAME]:

  1. "IELTS Preparation - Age 18-25"
     - Target: Young professionals needing IELTS for university/career
     - CPC Bid: ‚Ç¨2.50
     - Status: PAUSED

  2. "Work & Study Program - LATAM"
     - Target: Latin American students interested in working while studying
     - CPC Bid: ‚Ç¨3.00
     - Status: PAUSED

  3. "General English - Beginners A1-A2"
     - Target: Complete beginners
     - CPC Bid: ‚Ç¨1.50
     - Status: PAUSED

  STEP 3 - CREATE:
  Use the GAds_Universal_Write_API tool to create these ad groups.

  IMPORTANT PARAMETERS:
  - resource_type: "adGroups"
  - operation_type: "create"
  - confirm_danger: true (REQUIRED for write operations)

  ‚ö†Ô∏è DEFAULT STATUS: Always create new entities as "PAUSED" initially!
  We will enable them manually later after review.

  For each ad group, the operations structure should be:
  {
    "campaign": "customers/[ACCOUNT_ID]/campaigns/[CAMPAIGN_ID]",
    "name": "[AD_GROUP_NAME]",
    "status": "PAUSED",
    "cpc_bid_micros": [AMOUNT_IN_MICROS]
  }

  Note: CPC conversion - ‚Ç¨1.00 = 1,000,000 micros
  - ‚Ç¨1.50 = 1500000 micros
  - ‚Ç¨2.50 = 2500000 micros
  - ‚Ç¨3.00 = 3000000 micros

  STEP 4 - VERIFICATION:
  After creation, use GAds_Universal_Query_API to verify the ad groups were created successfully with this GAQL query:

  SELECT
    ad_group.id,
    ad_group.name,
    ad_group.status,
    ad_group.cpc_bid_micros,
    campaign.name
  FROM ad_group
  WHERE campaign.id = [CAMPAIGN_ID]
  ORDER BY ad_group.name

  Please proceed step-by-step and show me the results after each step.

  ---
  üöÄ QUICK REFERENCE: AdGroup Creation Parameters

  Essential Structure:

  {
    "account_id": "[default from env]",
    "resource_type": "adGroups",
    "operation_type": "create",
    "confirm_danger": true,  // ‚ö†Ô∏è MANDATORY
    "operations": [
      {
        "campaign": "customers/YOUR_ACCOUNT_ID/campaigns/CAMPAIGN_ID",
        "name": "Ad Group Name",
        "status": "PAUSED",      // ‚ö†Ô∏è ALWAYS use PAUSED for new entities
        "cpc_bid_micros": 2000000 // ‚Ç¨2.00
      }
    ]
  }

  ‚ö†Ô∏è IMPORTANT: All new campaigns, ad groups, ads, and keywords should be created with status "PAUSED".
  We will enable them later after review and testing.

  CPC Bid Conversion Table:

  | Amount | Micros  |
  |--------|---------|
  | ‚Ç¨0.50  | 500000  |
  | ‚Ç¨1.00  | 1000000 |
  | ‚Ç¨1.50  | 1500000 |
  | ‚Ç¨2.00  | 2000000 |
  | ‚Ç¨2.50  | 2500000 |
  | ‚Ç¨3.00  | 3000000 |
  | ‚Ç¨5.00  | 5000000 |

  ---
  üí° CONTEXT-AWARE PROMPTING EXAMPLES

  Example 1: Target-Specific AdGroups

  Create ad groups for "Ireland-GnrlTerms-EN" Campaign targeting different student segments:

  1. "Business English - Professionals 25-35" (‚Ç¨3.50 CPC)
     - For career-focused professionals

  2. "IELTS Exam Prep - University Bound" (‚Ç¨3.00 CPC)
     - For students needing IELTS for university admission

  3. "Work & Study - Brazilian Students" (‚Ç¨4.00 CPC)
     - Specifically for Brazilian market (high-value Work&Study)

  Use GAds_Universal_Write_API with confirm_danger: true
  Campaign: [provide campaign ID or name]

  Example 3: Course Type Segmentation

  Create ad groups for different English course types:

  1. "Intensive English - 4+ Weeks" (‚Ç¨2.80 CPC)
  2. "Part-Time Evening Classes" (‚Ç¨1.80 CPC)
  3. "Summer English Courses" (‚Ç¨2.50 CPC)
  4. "Academic Year Program" (‚Ç¨3.50 CPC - highest value)

  Campaign ID: [provide after querying campaigns]
  Use confirm_danger: true

==========================================================================================
  ‚ö†Ô∏è COMMON ISSUES & SOLUTIONS

  Issue 1: "Safety confirmation required"

  Error Message:
  ‚ö†Ô∏è Universal Write Access Blocked - Safety Check
  This is a DANGEROUS operation that will modify your Google Ads account.
  To proceed, you must set 'confirm_danger' parameter to true

  Solution:
  Always explicitly tell Claude:
  Use GAds_Universal_Write_API with confirm_danger: true

  ---
  Issue 2: Campaign ID Unknown

  Problem: Claude doesn't know which campaign to use

  Solution: Use two-step prompt:
  Step 1: Query all campaigns using GAds_Campaign_API
  Step 2: Once I see the list, I'll tell you which campaign ID to use for the ad groups

  ---
  Issue 3: Resource Name Format Errors

  Problem: Incorrect resource name format

  Correct Format:
  "campaign": "customers/1234567890/campaigns/9876543210"

  Not:
  "campaign": "1234567890"  // ‚ùå Wrong
  "campaign_id": "9876543210"  // ‚ùå Wrong field name

  ---
  üéØ STRATEGIC TARGETING CONSIDERATIONS (For Your Prompts)

  When creating ad groups, consider including this context for Claude:

  Age Segmentation:

  - 18-22: Recent high school graduates, gap year, first degree
  - 23-27: University graduates, career starters
  - 28-35: Career professionals, executive programs

  Course Intent:

  - IELTS/TOEFL: Exam preparation (specific goal, high intent)
  - Work & Study: Long-term programs (high value)
  - General English: Broad appeal (varied intent)
  - Business English: Professional development (premium pricing)

  Competitor Awareness:

  Consider creating ad groups targeting competitor brand terms:
  - "Delfin School Alternative"
  - "Atlas Language School vs ULearn"
  - "Better than ISI Dublin"

  Use Brand List and Competitor keywords strategically.

  ---
  üìä VERIFICATION QUERIES

  After Creating AdGroups:

  Use GAds_Universal_Query_API to verify:

  SELECT 
    ad_group.id,
    ad_group.name,
    ad_group.status,
    ad_group.cpc_bid_micros,
    ad_group.target_cpa_micros,
    ad_group.target_roas,
    campaign.id,
    campaign.name,
    campaign.status
  FROM ad_group
  WHERE campaign.status = 'ENABLED'
  ORDER BY campaign.name, ad_group.name

  Check AdGroup Performance (After Some Time):

  SELECT
    ad_group.id,
    ad_group.name,
    metrics.impressions,
    metrics.clicks,
    metrics.ctr,
    metrics.average_cpc,
    metrics.conversions,
    metrics.cost_micros
  FROM ad_group
  WHERE segments.date DURING LAST_30_DAYS
  ORDER BY metrics.impressions DESC

  ---

## üîë HOW TO ADD KEYWORDS TO AD GROUPS

After creating ad groups, you need to add keywords using the **adGroupCriteria** resource type.

### ‚úÖ Complete Keyword Creation Workflow

```
Hi Claude! I need to add keywords to the ad group I just created.

STEP 1 - VERIFY AD GROUP:
Use GAds_Universal_Query_API to confirm the ad group exists and get its ID:

SELECT
  ad_group.id,
  ad_group.name,
  ad_group.status,
  campaign.id,
  campaign.name
FROM ad_group
WHERE ad_group.name = "[AD_GROUP_NAME]"

STEP 2 - ADD KEYWORDS:
Use GAds_Universal_Write_API to add keywords to the ad group.

IMPORTANT PARAMETERS:
- resource_type: "adGroupCriteria" (NOT "keywords")
- operation_type: "create"
- confirm_danger: true

‚ö†Ô∏è CRITICAL STRUCTURE REQUIREMENTS:

1. **FLAT STRUCTURE:** Keyword must be at TOP LEVEL, NOT nested in "criterion"
2. **SNAKE_CASE:** All field names must use snake_case
3. **MATCH TYPE:** Can use string ("PHRASE") or number (3) - auto-converted

‚úÖ CORRECT STRUCTURE:
{
  "ad_group": "customers/[ACCOUNT_ID]/adGroups/[AD_GROUP_ID]",
  "status": "PAUSED",
  "keyword": {                    // ‚Üê keyword at TOP level
    "text": "english courses dublin",
    "match_type": "PHRASE"        // String auto-converts to enum
  },
  "cpc_bid_micros": 2500000       // Optional: keyword-level bid (‚Ç¨2.50)
}

‚ùå WRONG - Don't nest in criterion:
{
  "ad_group": "customers/[ACCOUNT_ID]/adGroups/[AD_GROUP_ID]",
  "criterion": {                  // ‚ùå Don't use criterion wrapper
    "keyword": {
      "text": "english courses dublin",
      "match_type": "PHRASE"
    }
  }
}

FIELD NAME RULES:
- Use "ad_group" NOT "adGroup"
- Use "match_type" NOT "matchType"
- Use "cpc_bid_micros" NOT "cpcBidMicros"
- All field names must be in snake_case

STEP 3 - VERIFY:
Use GAds_Universal_Query_API to confirm keywords were added:

SELECT
  ad_group_criterion.criterion_id,
  ad_group_criterion.keyword.text,
  ad_group_criterion.keyword.match_type,
  ad_group_criterion.status,
  ad_group_criterion.cpc_bid_micros,
  ad_group.name,
  campaign.name
FROM keyword_view
WHERE ad_group.id = [AD_GROUP_ID]
ORDER BY ad_group_criterion.keyword.text
```

### üéØ Keyword Match Types

| Match Type | String Value | Enum Value | Example Keyword | Will Match |
|------------|--------------|------------|-----------------|------------|
| **EXACT** | "EXACT" | 2 | `[english school dublin]` | "english school dublin" only |
| **PHRASE** | "PHRASE" | 3 | `"english courses dublin"` | "best english courses dublin", "english courses dublin ireland" |
| **BROAD** | "BROAD" | 4 | `english school ireland` | "english language schools in ireland", "study english dublin" |

‚ö†Ô∏è **Recommendation:** Start with PHRASE and EXACT match types. BROAD can waste budget on irrelevant searches.

**Note:** You can use either string values ("EXACT", "PHRASE", "BROAD") or enum values (2, 3, 4). The MCP server automatically converts strings to the required enum values.

---

### ‚ö†Ô∏è CAMPAIGN-SPECIFIC RESTRICTIONS

**Campaign: "1. Search-Dublin-Gnrl Terms_EN" (ID: 35128987)**

This campaign has **"broad match keywords setting ON"**, which means:
- ‚ùå EXACT and PHRASE match types will FAIL
- ‚úÖ ONLY BROAD match type (4 or "BROAD") will work
- All keywords are automatically converted to BROAD match

**For this campaign, ALWAYS use:**
```json
{
  "keyword": {
    "text": "your keyword",
    "match_type": "BROAD"  // or 4
  }
}
```

**To use PHRASE/EXACT match:** Turn off the "broad match keywords setting" in the campaign settings first.

### üìù Example: Adding Multiple Keywords to an Ad Group

```
Add these keywords to the "IELTS Preparation - Age 18-25" ad group:

EXACT MATCH (High Intent):
1. "ielts preparation dublin" - ‚Ç¨3.00 CPC
2. "ielts exam courses ireland" - ‚Ç¨3.00 CPC
3. "ielts training dublin" - ‚Ç¨2.80 CPC

PHRASE MATCH (Medium Intent):
4. "ielts course dublin" - ‚Ç¨2.50 CPC
5. "ielts classes ireland" - ‚Ç¨2.50 CPC
6. "prepare for ielts dublin" - ‚Ç¨2.30 CPC

All keywords should be created with status: PAUSED

Use GAds_Universal_Write_API with:
- resource_type: "adGroupCriteria"
- operation_type: "create"
- confirm_danger: true

Operations array structure (‚ö†Ô∏è use snake_case):
[
  {
    "ad_group": "customers/[ACCOUNT_ID]/adGroups/[AD_GROUP_ID]",
    "status": "PAUSED",
    "keyword": {
      "text": "ielts preparation dublin",
      "match_type": "EXACT"
    },
    "cpc_bid_micros": 3000000
  },
  {
    "ad_group": "customers/[ACCOUNT_ID]/adGroups/[AD_GROUP_ID]",
    "status": "PAUSED",
    "keyword": {
      "text": "ielts course dublin",
      "match_type": "PHRASE"
    },
    "cpc_bid_micros": 2500000
  }
  // ... more keywords
]
```

### üö´ Adding Negative Keywords

Negative keywords prevent your ads from showing for irrelevant searches:

```
Add negative keywords to prevent wasted spend:

CAMPAIGN-LEVEL NEGATIVES:
1. "free" - BROAD match
2. "cheap" - BROAD match
3. "volunteer" - PHRASE match
4. "teach english" - PHRASE match (we're not hiring teachers)

Use GAds_Universal_Write_API with:
- resource_type: "campaignCriteria"
- operation_type: "create"
- confirm_danger: true

Operations structure (‚ö†Ô∏è use snake_case):
{
  "campaign": "customers/[ACCOUNT_ID]/campaigns/[CAMPAIGN_ID]",
  "negative": true,
  "keyword": {
    "text": "free",
    "match_type": "BROAD"
  }
}
```

### üîç Keyword Research Integration

Before adding keywords manually you might use the keyword research tool:

```
Use GAds_Keyword_Ideas_API to generate keyword suggestions:

Parameters:
- seed_keywords: ["english school dublin", "learn english ireland"]
- language_code: "en"
- location_codes: ["2372"]  // Ireland
- page_size: 50

Then use GAds_Keyword_Research_API for comprehensive analysis including:
- Search volume
- Competition level
- Suggested bids
- Related keywords

After reviewing suggestions, add the best keywords using GAds_Universal_Write_API
with resource_type: "adGroupCriteria"
```

### ‚ö†Ô∏è Important Notes

1. **Always PAUSED:** Create all keywords with `"status": "PAUSED"` initially
2. **Match Type Strategy:** Start conservative (EXACT/PHRASE), expand cautiously
3. **Bid Strategy:** Set keyword-level bids only if different from ad group default
4. **Negative Keywords:** Add liberally to prevent waste
5. **Quality Score:** Monitor keyword quality score and adjust/pause poor performers

  ---
  üîê SAFETY REMINDER

  Your MCP server has proper safety architecture in place:

  ‚úÖ Read Operations (GAds_Universal_Query_API) - Always safe, no confirmation needed‚ö†Ô∏è Write Operations (GAds_Universal_Write_API) - Requires confirm_danger: true

  The confirm_danger parameter prevents accidental modifications to your live Google Ads account.

  ---
  üìù READY-TO-USE TEMPLATE

  Copy this template and customize:

  Hi Claude! Create ad groups for my ULearn English School campaign.

  STEP 1: Use GAds_Campaign_API to show active campaigns

  STEP 2: Create these ad groups in campaign "[CAMPAIGN_NAME]":

  1. "[AD_GROUP_NAME_1]" - ‚Ç¨[BID] CPC - PAUSED
     Target: [description]

  2. "[AD_GROUP_NAME_2]" - ‚Ç¨[BID] CPC - PAUSED
     Target: [description]

  3. "[AD_GROUP_NAME_3]" - ‚Ç¨[BID] CPC - PAUSED
     Target: [description]

  Use GAds_Universal_Write_API with:
  - resource_type: "adGroups"
  - operation_type: "create"
  - confirm_danger: true

  STEP 3: Verify creation with GAds_Universal_Query_API

  Please proceed step-by-step.

  ---
  Your MCP server is correctly configured and ready! The key is being explicit about:
  1. Tool names (GAds_Universal_Write_API)
  2. Safety confirmation (confirm_danger: true)
  3. Proper resource structure
  4. Step-by-step workflow

  Would you like me to help you craft a specific prompt for particular ad groups you want to create right now?